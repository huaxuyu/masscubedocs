<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
  <channel>
    <title>MassCube – MassCube Documentation</title>
    <link>https://example.org/docs/</link>
    <description>Recent content in MassCube Documentation on MassCube</description>
    <generator>Hugo -- gohugo.io</generator>
    <language>en-us</language>
    
	  <atom:link href="https://example.org/docs/index.xml" rel="self" type="application/rss+xml" />
    
    
      
        
      
    
    
    <item>
      <title>alignment</title>
      <link>https://example.org/docs/api/alignment/</link>
      <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
      
      <guid>https://example.org/docs/api/alignment/</guid>
      <description>
        
        
        &lt;h2&gt;Overview&lt;span class=&#34;absolute -mt-20&#34; id=&#34;overview&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#overview&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h2&gt;&lt;p&gt;This module provides functionality for aligning metabolic features from different samples in mass spectrometry data.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;Feature alignment&lt;/strong&gt;: Align features across different samples, considering parameters like m/z tolerance and retention time tolerance.&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Gap filling&lt;/strong&gt;: Fill in missing features across aligned samples using various strategies.&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Merge features&lt;/strong&gt;: Clean feature table by merging features with almost the same m/z and retention time.&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Retention time correction&lt;/strong&gt;: Correct retention times to align features more accurately.&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Output feature table&lt;/strong&gt;: Save the aligned features to a file.&lt;/li&gt;
&lt;/ul&gt;
&lt;h2&gt;Classes&lt;span class=&#34;absolute -mt-20&#34; id=&#34;classes&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#classes&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h2&gt;&lt;h3&gt;&lt;code&gt;AlignedFeature&lt;/code&gt;&lt;span class=&#34;absolute -mt-20&#34; id=&#34;alignedfeature&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#alignedfeature&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h3&gt;&lt;p&gt;A class to model a feature in mass spectrometry data. Generally, a feature is defined as a unique pair of m/z and retention time.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Attributes:&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;feature_id_arr&lt;/code&gt; (np.array): Feature ID from individual files (-1 if not detected or gap filled).&lt;/li&gt;
&lt;li&gt;&lt;code&gt;mz_arr&lt;/code&gt; (np.array): m/z values.&lt;/li&gt;
&lt;li&gt;&lt;code&gt;rt_arr&lt;/code&gt; (np.array): Retention times.&lt;/li&gt;
&lt;li&gt;&lt;code&gt;scan_idx_arr&lt;/code&gt; (np.array): Scan index of the peak apex.&lt;/li&gt;
&lt;li&gt;&lt;code&gt;peak_height_arr&lt;/code&gt; (np.array): Peak height.&lt;/li&gt;
&lt;li&gt;&lt;code&gt;peak_area_arr&lt;/code&gt; (np.array): Peak area.&lt;/li&gt;
&lt;li&gt;&lt;code&gt;top_average_arr&lt;/code&gt; (np.array): Average of the highest three intensities.&lt;/li&gt;
&lt;li&gt;&lt;code&gt;ms2_seq&lt;/code&gt; (list): Representative MS2 spectrum from each file (default: highest total intensity).&lt;/li&gt;
&lt;li&gt;&lt;code&gt;length_arr&lt;/code&gt; (np.array): Length (i.e. non-zero scans in the peak).&lt;/li&gt;
&lt;li&gt;&lt;code&gt;gaussian_similarity_arr&lt;/code&gt; (np.array): Gaussian similarity.&lt;/li&gt;
&lt;li&gt;&lt;code&gt;noise_score_arr&lt;/code&gt; (np.array): Noise score.&lt;/li&gt;
&lt;li&gt;&lt;code&gt;asymmetry_factor_arr&lt;/code&gt; (np.array): Asymmetry factor.&lt;/li&gt;
&lt;li&gt;&lt;code&gt;sse_arr&lt;/code&gt; (np.array): Squared error to the smoothed curve.&lt;/li&gt;
&lt;li&gt;&lt;code&gt;is_segmented_arr&lt;/code&gt; (np.array): Whether the peak is segmented.&lt;/li&gt;
&lt;li&gt;&lt;code&gt;id&lt;/code&gt; (int): Index of the feature.&lt;/li&gt;
&lt;li&gt;&lt;code&gt;feature_group_id&lt;/code&gt; (int): Feature group ID.&lt;/li&gt;
&lt;li&gt;&lt;code&gt;mz&lt;/code&gt; (float): m/z.&lt;/li&gt;
&lt;li&gt;&lt;code&gt;rt&lt;/code&gt; (float): Retention time.&lt;/li&gt;
&lt;li&gt;&lt;code&gt;reference_file&lt;/code&gt; (str): The reference file with the highest peak height.&lt;/li&gt;
&lt;li&gt;&lt;code&gt;reference_scan_idx&lt;/code&gt; (int): The scan index of the peak apex from the reference file.&lt;/li&gt;
&lt;li&gt;&lt;code&gt;highest_intensity&lt;/code&gt; (float): The highest peak height from individual files (which is the reference file).&lt;/li&gt;
&lt;li&gt;&lt;code&gt;ms2&lt;/code&gt; (str): Representative MS2 spectrum.&lt;/li&gt;
&lt;li&gt;&lt;code&gt;ms2_reference_file&lt;/code&gt; (str): The reference file for the representative MS2 spectrum.&lt;/li&gt;
&lt;li&gt;&lt;code&gt;gaussian_similarity&lt;/code&gt; (float): Gaussian similarity from the reference file.&lt;/li&gt;
&lt;li&gt;&lt;code&gt;noise_score&lt;/code&gt; (float): Noise level from the reference file.&lt;/li&gt;
&lt;li&gt;&lt;code&gt;asymmetry_factor&lt;/code&gt; (float): Asymmetry factor from the reference file.&lt;/li&gt;
&lt;li&gt;&lt;code&gt;detection_rate&lt;/code&gt; (float): Number of detected files / total number of files (blank not included).&lt;/li&gt;
&lt;li&gt;&lt;code&gt;detection_rate_gap_filled&lt;/code&gt; (float): Number of detected files after gap filling / total number of files (blank not included).&lt;/li&gt;
&lt;li&gt;&lt;code&gt;charge_state&lt;/code&gt; (int): Charge state.&lt;/li&gt;
&lt;li&gt;&lt;code&gt;is_isotope&lt;/code&gt; (bool): Whether it is an isotope.&lt;/li&gt;
&lt;li&gt;&lt;code&gt;isotope_signals&lt;/code&gt; (list): Isotope signals [[m/z, intensity], &amp;hellip;].&lt;/li&gt;
&lt;li&gt;&lt;code&gt;is_in_source_fragment&lt;/code&gt; (bool): Whether it is an in-source fragment.&lt;/li&gt;
&lt;li&gt;&lt;code&gt;adduct_type&lt;/code&gt; (str): Adduct type.&lt;/li&gt;
&lt;li&gt;&lt;code&gt;annotation_algorithm&lt;/code&gt; (str): Annotation algorithm. Not used now.&lt;/li&gt;
&lt;li&gt;&lt;code&gt;search_mode&lt;/code&gt; (str): &amp;lsquo;identity search&amp;rsquo;, &amp;lsquo;fuzzy search&amp;rsquo;, or &amp;lsquo;mzrt_search&amp;rsquo;.&lt;/li&gt;
&lt;li&gt;&lt;code&gt;similarity&lt;/code&gt; (float): Similarity score (0-1).&lt;/li&gt;
&lt;li&gt;&lt;code&gt;annotation&lt;/code&gt; (str): Name of annotated compound.&lt;/li&gt;
&lt;li&gt;&lt;code&gt;formula&lt;/code&gt; (str): Molecular formula.&lt;/li&gt;
&lt;li&gt;&lt;code&gt;matched_peak_number&lt;/code&gt; (int): Number of matched peaks.&lt;/li&gt;
&lt;li&gt;&lt;code&gt;smiles&lt;/code&gt; (str): SMILES.&lt;/li&gt;
&lt;li&gt;&lt;code&gt;inchikey&lt;/code&gt; (str): InChIKey.&lt;/li&gt;
&lt;li&gt;&lt;code&gt;matched_precursor_mz&lt;/code&gt; (float): Matched precursor m/z.&lt;/li&gt;
&lt;li&gt;&lt;code&gt;matched_adduct_type&lt;/code&gt; (str): Matched adduct type.&lt;/li&gt;
&lt;li&gt;&lt;code&gt;matched_ms2&lt;/code&gt; (str): Matched ms2 spectra.&lt;/li&gt;
&lt;/ul&gt;
&lt;h2&gt;Functions&lt;span class=&#34;absolute -mt-20&#34; id=&#34;functions&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#functions&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h2&gt;&lt;h3&gt;feature_alignment&lt;span class=&#34;absolute -mt-20&#34; id=&#34;feature_alignment&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#feature_alignment&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h3&gt;&lt;p&gt;&lt;code&gt;feature_alignment(path: str, params: Params)&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;Align the features from multiple processed single files as .txt format.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Parameters:&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;path&lt;/code&gt; (str): The path to the feature tables of individual files.&lt;/li&gt;
&lt;li&gt;&lt;code&gt;params&lt;/code&gt; (Params object): The parameters for alignment including sample names and sample groups.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;strong&gt;Returns:&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;features&lt;/code&gt; (list of AlignedFeature objects)&lt;/li&gt;
&lt;/ul&gt;
&lt;h3&gt;gap_filling&lt;span class=&#34;absolute -mt-20&#34; id=&#34;gap_filling&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#gap_filling&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h3&gt;&lt;p&gt;&lt;code&gt;gap_filling(features, params: Params)&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;Fill the gaps for aligned features.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Parameters:&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;features&lt;/code&gt; (list of AlignedFeature objects): The aligned features.&lt;/li&gt;
&lt;li&gt;&lt;code&gt;parameters&lt;/code&gt; (Params object): The parameters used for gap filling.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;strong&gt;Returns:&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;features&lt;/code&gt; (list of AlignedFeature objects).&lt;/li&gt;
&lt;/ul&gt;
&lt;h3&gt;merge_features&lt;span class=&#34;absolute -mt-20&#34; id=&#34;merge_features&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#merge_features&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h3&gt;&lt;p&gt;&lt;code&gt;merge_features(features: list, params: Params)&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;Clean features by merging features with almost the same m/z and retention time.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Parameters:&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;features&lt;/code&gt; (list of AlignedFeature objects): The aligned features.&lt;/li&gt;
&lt;li&gt;&lt;code&gt;params&lt;/code&gt; (Params object): The parameters used for merging features.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;strong&gt;Returns:&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;features (list of AlignedFeature objects).&lt;/p&gt;
&lt;h3&gt;convert_features_to_df&lt;span class=&#34;absolute -mt-20&#34; id=&#34;convert_features_to_df&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#convert_features_to_df&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h3&gt;&lt;p&gt;&lt;code&gt;convert_features_to_df(features, sample_names, quant_method=&amp;quot;peak_height&amp;quot;)&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;Convert the aligned features to a DataFrame.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Parameters:&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;features&lt;/code&gt; (list of AlignedFeature objects): The aligned features.&lt;/li&gt;
&lt;li&gt;&lt;code&gt;sample_names&lt;/code&gt; (list): The sample names.&lt;/li&gt;
&lt;li&gt;&lt;code&gt;quant_method&lt;/code&gt; (str): The quantification method, &amp;ldquo;peak_height&amp;rdquo;, &amp;ldquo;peak_area&amp;rdquo; or &amp;ldquo;top_average&amp;rdquo;.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;strong&gt;Returns:&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;feature_table&lt;/code&gt; (pd.DataFrame): The feature DataFrame.&lt;/li&gt;
&lt;/ul&gt;
&lt;h3&gt;output_feature_to_msp&lt;span class=&#34;absolute -mt-20&#34; id=&#34;output_feature_to_msp&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#output_feature_to_msp&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h3&gt;&lt;p&gt;&lt;code&gt;output_feature_to_msp(feature_table, output_path)&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;Output MS2 spectra to MSP format.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Parameters:&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;feature_table&lt;/code&gt; (pd.DataFrame): The feature table.&lt;/li&gt;
&lt;li&gt;&lt;code&gt;output_path&lt;/code&gt; (str): The path to the output MSP file.&lt;/li&gt;
&lt;/ul&gt;
&lt;h3&gt;output_feature_table&lt;span class=&#34;absolute -mt-20&#34; id=&#34;output_feature_table&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#output_feature_table&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h3&gt;&lt;p&gt;&lt;code&gt;output_feature_table(feature_table, output_path)&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;Output the aligned feature table.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Parameters:&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;feature_table&lt;/code&gt; (pd.DataFrame): The aligned feature table.&lt;/li&gt;
&lt;li&gt;&lt;code&gt;output_path&lt;/code&gt; (str): The path to save the aligned feature table.&lt;/li&gt;
&lt;/ul&gt;
&lt;h3&gt;retention_time_correction&lt;span class=&#34;absolute -mt-20&#34; id=&#34;retention_time_correction&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#retention_time_correction&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h3&gt;&lt;p&gt;&lt;code&gt;retention_time_correction(mz_ref, rt_ref, mz_arr, rt_arr, mz_tol=0.01, rt_tol=2.0, mode=&#39;linear_interpolation&#39;, rt_max=None)&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;Correct retention times for feature alignment. There are three steps including (1) finding the selected anchors in the given data, (2) creating a model to correct retention times, and (3) correcting retention times.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Parameters:&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;mz_ref&lt;/code&gt; (np.array): The m/z values of the selected anchors from another reference file.&lt;/li&gt;
&lt;li&gt;&lt;code&gt;rt_ref&lt;/code&gt; (np.array): The retention times of the selected anchors from another reference file.&lt;/li&gt;
&lt;li&gt;&lt;code&gt;mz_arr&lt;/code&gt; (np.array): Feature m/z values in the current file.&lt;/li&gt;
&lt;li&gt;&lt;code&gt;rt_arr&lt;/code&gt; (np.array): Feature retention times in the current file.&lt;/li&gt;
&lt;li&gt;&lt;code&gt;mz_tol&lt;/code&gt; (float): The m/z tolerance for selecting anchors.&lt;/li&gt;
&lt;li&gt;&lt;code&gt;rt_tol&lt;/code&gt; (float): The retention time tolerance for selecting anchors.&lt;/li&gt;
&lt;li&gt;&lt;code&gt;mode&lt;/code&gt; (str): The mode for retention time correction. Only &amp;rsquo;linear_interpolation&amp;rsquo; is available now.&lt;/li&gt;
&lt;li&gt;&lt;code&gt;rt_max&lt;/code&gt; (float): End of the retention time range.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;strong&gt;Returns:&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;rt_arr&lt;/code&gt; (np.array): The corrected retention times.&lt;/li&gt;
&lt;li&gt;&lt;code&gt;f&lt;/code&gt; (interp1d): The model for retention time correction.&lt;/li&gt;
&lt;/ul&gt;
&lt;h3&gt;rt_anchor_selection&lt;span class=&#34;absolute -mt-20&#34; id=&#34;rt_anchor_selection&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#rt_anchor_selection&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h3&gt;&lt;p&gt;&lt;code&gt;rt_anchor_selection(data_path, num=50, noise_score_tol=0.1, mz_tol=0.01)&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;Select retention time anchors from the feature tables. Retention time anchors have unique m/z values and low noise scores. From all candidate features, the top &lt;em&gt;num&lt;/em&gt; features with the highest peak heights are selected as anchors.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Parameters:&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;data_path&lt;/code&gt; (str): The absolute directory to the feature tables.&lt;/li&gt;
&lt;li&gt;&lt;code&gt;num&lt;/code&gt; (int): The number of anchors to be selected.&lt;/li&gt;
&lt;li&gt;&lt;code&gt;noise_score_tol&lt;/code&gt; (float): The noise level for the anchors.&lt;/li&gt;
&lt;li&gt;&lt;code&gt;mz_tol&lt;/code&gt; (float): The m/z tolerance for selecting anchors.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;strong&gt;Returns:&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;anchors&lt;/code&gt; (list): A list of anchors (dict) for retention time correction.&lt;/li&gt;
&lt;/ul&gt;

      </description>
    </item>
    
    <item>
      <title>annotation</title>
      <link>https://example.org/docs/api/annotation/</link>
      <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
      
      <guid>https://example.org/docs/api/annotation/</guid>
      <description>
        
        
        &lt;h2&gt;Overview&lt;span class=&#34;absolute -mt-20&#34; id=&#34;overview&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#overview&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h2&gt;&lt;p&gt;This module is designed for annotating metabolites based on their m/z, retention time, and MS/MS spectra.&lt;/p&gt;
&lt;h2&gt;Functions&lt;span class=&#34;absolute -mt-20&#34; id=&#34;functions&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#functions&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h2&gt;&lt;h3&gt;load_ms2_db&lt;span class=&#34;absolute -mt-20&#34; id=&#34;load_ms2_db&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#load_ms2_db&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h3&gt;&lt;p&gt;&lt;code&gt;load_ms2_db(path)&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;Load MS2 database in pickle, msp, or json format.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Parameters:&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;path&lt;/code&gt; (str): The path to the MS2 database.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;strong&gt;Returns:&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;entropy_search&lt;/code&gt; (FlashEntropySearch object): The MS2 database.&lt;/li&gt;
&lt;/ul&gt;
&lt;h3&gt;annotate_aligned_features&lt;span class=&#34;absolute -mt-20&#34; id=&#34;annotate_aligned_features&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#annotate_aligned_features&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h3&gt;&lt;p&gt;&lt;code&gt;annotate_aligned_features(features, params, num=5)&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;Annotate feature&amp;rsquo;s MS2 using database.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Parameters:&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;features&lt;/code&gt; (list): A list of AlignedFeature objects.&lt;/li&gt;
&lt;li&gt;&lt;code&gt;params&lt;/code&gt; (Params object): The parameters for the workflow.&lt;/li&gt;
&lt;li&gt;&lt;code&gt;num&lt;/code&gt; (int): The number of top MS2 spectra to search.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;strong&gt;Returns:&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;features&lt;/code&gt; (list): A list of AlignedFeature objects with MS2 annotation.&lt;/li&gt;
&lt;/ul&gt;
&lt;h3&gt;annotate_features&lt;span class=&#34;absolute -mt-20&#34; id=&#34;annotate_features&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#annotate_features&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h3&gt;&lt;p&gt;Annotate features from a single raw data file using MS2 database.&lt;/p&gt;
&lt;p&gt;&lt;code&gt;annotate_features(d, sim_tol=None, fuzzy_search=True, ms2_library_path=None)&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Parameters:&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;d&lt;/code&gt; (MSData object): MS data file.&lt;/li&gt;
&lt;li&gt;&lt;code&gt;sim_tol&lt;/code&gt; (float): The similarity threshold for MS2 annotation. If not specified, the corresponding parameter from the MS data file will be used.&lt;/li&gt;
&lt;li&gt;&lt;code&gt;fuzzy_search&lt;/code&gt; (bool): Whether to further annotated the unmatched MS2 using fuzzy search.&lt;/li&gt;
&lt;li&gt;&lt;code&gt;ms2_library_path&lt;/code&gt; (str): The absolute path to the MS2 database. If not specified, the corresponding parameter from the MS data file will be used.&lt;/li&gt;
&lt;/ul&gt;
&lt;h3&gt;annotate_ms2&lt;span class=&#34;absolute -mt-20&#34; id=&#34;annotate_ms2&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#annotate_ms2&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h3&gt;&lt;p&gt;Annotate MS2 spectra using MS2 database.&lt;/p&gt;
&lt;p&gt;&lt;code&gt;annotate_ms2(ms2, ms2_library_path, sim_tol=0.7, fuzzy_search=True)&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Parameters:&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;ms2&lt;/code&gt; (Scan object): MS2 spectrum.&lt;/li&gt;
&lt;li&gt;&lt;code&gt;ms2_library_path&lt;/code&gt; (str): The absolute path to the MS2 database. If not specified, the corresponding parameter from the MS data file will be used.&lt;/li&gt;
&lt;li&gt;&lt;code&gt;sim_tol&lt;/code&gt; (float): The similarity threshold for MS2 annotation.&lt;/li&gt;
&lt;li&gt;&lt;code&gt;fuzzy_search&lt;/code&gt; (bool): Whether to further annotated the unmatched MS2 using fuzzy search.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;strong&gt;Returns:&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;score&lt;/code&gt; (float): The similarity score.&lt;/li&gt;
&lt;li&gt;&lt;code&gt;matched&lt;/code&gt; (dict): The matched MS2 spectrum.&lt;/li&gt;
&lt;li&gt;&lt;code&gt;matched_peak_num&lt;/code&gt; (int): The number of matched peaks.&lt;/li&gt;
&lt;li&gt;&lt;code&gt;search_mode&lt;/code&gt; (str): The search mode, &amp;lsquo;identity_search&amp;rsquo; or &amp;lsquo;fuzzy_search&amp;rsquo;.&lt;/li&gt;
&lt;/ul&gt;
&lt;h3&gt;feature_annotation_mzrt&lt;span class=&#34;absolute -mt-20&#34; id=&#34;feature_annotation_mzrt&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#feature_annotation_mzrt&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h3&gt;&lt;p&gt;&lt;code&gt;feature_annotation_mzrt(features, path, mz_tol=0.01, rt_tol=0.3)&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;Annotate features based on a mzrt file (only .csv is supported now)&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Parameters:&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;features&lt;/code&gt; (list): A list of features.&lt;/li&gt;
&lt;li&gt;&lt;code&gt;path&lt;/code&gt; (str): The path to the mzrt file in csv format.&lt;/li&gt;
&lt;li&gt;&lt;code&gt;mz_tol&lt;/code&gt; (float): The m/z tolerance for matching.&lt;/li&gt;
&lt;li&gt;&lt;code&gt;rt_tol&lt;/code&gt; (float): The RT tolerance for matching.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;strong&gt;Returns:&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;features&lt;/code&gt; (list): A list of features with annotation.&lt;/li&gt;
&lt;/ul&gt;
&lt;h3&gt;feature_to_feature_search&lt;span class=&#34;absolute -mt-20&#34; id=&#34;feature_to_feature_search&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#feature_to_feature_search&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h3&gt;&lt;p&gt;&lt;code&gt;feature_to_feature_search(feature_list)&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;Calculate the MS2 similarity between features using fuzzy search.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Parameters:&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;feature_list&lt;/code&gt; (list): A list of AlignedFeature objects.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;strong&gt;Returns:&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;similarity_matrix&lt;/code&gt; (pandas.DataFrame): A DataFrame containing the similarity matrix between features.&lt;/li&gt;
&lt;/ul&gt;
&lt;h3&gt;index_feature_list&lt;span class=&#34;absolute -mt-20&#34; id=&#34;index_feature_list&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#index_feature_list&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h3&gt;&lt;p&gt;&lt;code&gt;index_feature_list(feature_list)&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;A helper function to index a list of features for spectrum entropy search.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Parameters:&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;feature_list&lt;/code&gt; (list): A list of AlignedFeature objects.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;strong&gt;Returns:&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;entropy_search&lt;/code&gt; (FlashEntropySearch object): The indexed feature list.&lt;/li&gt;
&lt;/ul&gt;
&lt;h3&gt;output_ms2_to_msp&lt;span class=&#34;absolute -mt-20&#34; id=&#34;output_ms2_to_msp&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#output_ms2_to_msp&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h3&gt;&lt;p&gt;&lt;code&gt;output_ms2_to_msp(feature_table, output_path)&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;Output MS2 spectra to MSP format&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Parameters:&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;feature_table&lt;/code&gt; (pandas.DataFrame): A DataFrame containing the MS2 spectra.&lt;/li&gt;
&lt;li&gt;&lt;code&gt;output_path&lt;/code&gt; (str): The path to the output MSP file.&lt;/li&gt;
&lt;/ul&gt;

      </description>
    </item>
    
    <item>
      <title>classifier_builder</title>
      <link>https://example.org/docs/api/classifier_builder/</link>
      <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
      
      <guid>https://example.org/docs/api/classifier_builder/</guid>
      <description>
        
        
        &lt;h2&gt;Overview&lt;span class=&#34;absolute -mt-20&#34; id=&#34;overview&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#overview&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h2&gt;&lt;p&gt;This module provides a set of tools for building and using a random forest classifier for metabolomics data analysis. It supports feature selection, model training, cross-validation, and prediction on new data.&lt;/p&gt;
&lt;h2&gt;Functions&lt;span class=&#34;absolute -mt-20&#34; id=&#34;functions&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#functions&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h2&gt;&lt;h3&gt;feature_selection&lt;span class=&#34;absolute -mt-20&#34; id=&#34;feature_selection&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#feature_selection&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h3&gt;&lt;p&gt;&lt;code&gt;feature_selection(X, y, k=None)&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Parameters:&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;X&lt;/code&gt; (numpy.ndarray): The feature matrix.&lt;/li&gt;
&lt;li&gt;&lt;code&gt;y&lt;/code&gt; (numpy.ndarray): The target variable.&lt;/li&gt;
&lt;li&gt;&lt;code&gt;k&lt;/code&gt; (int): The number of features to select. By default, it is set to the number of samples divided by 10 (1/10 rule) and rounded up.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;strong&gt;Returns:&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;X_new&lt;/code&gt; (numpy.ndarray): The selected features.&lt;/li&gt;
&lt;li&gt;&lt;code&gt;selected_features&lt;/code&gt; (numpy.ndarray): The indices of the selected features.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;def feature_selection(X, y, k=None):
&amp;quot;&amp;quot;&amp;quot;
Select features for the classification model.&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;Parameters
----------
X : two-dimensional numpy array
    The feature matrix.
y : one-dimensional numpy array
    The target variable.
k : int
    The number of features to select. By default, it
    is set to the number of samples divided by 10 (1/10 rule)
    and rounded up.

Returns
-------
X_new : two-dimensional numpy array
    The fit-transformed feature matrix.
selected_features : one-dimensional numpy array
    The indices of the selected features.
&amp;quot;&amp;quot;&amp;quot;
&lt;/code&gt;&lt;/pre&gt;
&lt;h3&gt;train_rdf_model&lt;span class=&#34;absolute -mt-20&#34; id=&#34;train_rdf_model&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#train_rdf_model&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h3&gt;&lt;p&gt;&lt;code&gt;train_rdf_model(X_train, y_train)&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Parameters:&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;X_train&lt;/code&gt; (numpy.ndarray): The feature matrix for training.&lt;/li&gt;
&lt;li&gt;&lt;code&gt;y_train&lt;/code&gt; (numpy.ndarray): The target variable for training.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;strong&gt;Returns:&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;model&lt;/code&gt; (RandomForestClassifier): The trained random forest model.&lt;/li&gt;
&lt;/ul&gt;
&lt;h3&gt;cross_validate_model&lt;span class=&#34;absolute -mt-20&#34; id=&#34;cross_validate_model&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#cross_validate_model&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h3&gt;&lt;p&gt;&lt;code&gt;cross_validate_model(X, y, model, k=5, random_state=0)&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Parameters:&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;X&lt;/code&gt; (numpy.ndarray): The feature matrix.&lt;/li&gt;
&lt;li&gt;&lt;code&gt;y&lt;/code&gt; (numpy.ndarray): The target variable.&lt;/li&gt;
&lt;li&gt;&lt;code&gt;model&lt;/code&gt; (RandomForestClassifier): The trained random forest model.&lt;/li&gt;
&lt;li&gt;&lt;code&gt;k&lt;/code&gt; (int): The number of folds for cross-validation.&lt;/li&gt;
&lt;li&gt;&lt;code&gt;random_state&lt;/code&gt; (int): The random state for the shuffle in KFold.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;strong&gt;Returns:&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;scores&lt;/code&gt; (list): The accuracy scores for each fold.&lt;/li&gt;
&lt;/ul&gt;
&lt;h3&gt;predict&lt;span class=&#34;absolute -mt-20&#34; id=&#34;predict&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#predict&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h3&gt;&lt;p&gt;&lt;code&gt;predict(model, X_test)&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Parameters:&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;model&lt;/code&gt; (RandomForestClassifier): The trained random forest model.&lt;/li&gt;
&lt;li&gt;&lt;code&gt;X_test&lt;/code&gt; (numpy.ndarray): The feature matrix for testing.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;strong&gt;Returns:&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;predictions&lt;/code&gt; (numpy.ndarray): The predicted classes.&lt;/li&gt;
&lt;/ul&gt;
&lt;h3&gt;evaluate_model&lt;span class=&#34;absolute -mt-20&#34; id=&#34;evaluate_model&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#evaluate_model&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h3&gt;&lt;p&gt;&lt;code&gt;evaluate_model(predictions, y_test)&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Parameters:&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;predictions&lt;/code&gt; (numpy.ndarray): The predicted classes.&lt;/li&gt;
&lt;li&gt;&lt;code&gt;y_test&lt;/code&gt; (numpy.ndarray): The true classes.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;strong&gt;Returns:&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;accuracy&lt;/code&gt; (float): The accuracy of the model.&lt;/li&gt;
&lt;/ul&gt;
&lt;h3&gt;build_classifier&lt;span class=&#34;absolute -mt-20&#34; id=&#34;build_classifier&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#build_classifier&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h3&gt;&lt;p&gt;&lt;code&gt;build_classifier(path=None, by_group=None, feature_num=None, gaussian_cutoff=0.6, detection_rate_cutoff=0.9, fill_ratio=0.5, cross_validation_k=5)&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Parameters:&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;path&lt;/code&gt; (str): Path to the project file.&lt;/li&gt;
&lt;li&gt;&lt;code&gt;feature_num&lt;/code&gt; (int): The number of features to select for building the model.&lt;/li&gt;
&lt;li&gt;&lt;code&gt;gaussian_cutoff&lt;/code&gt; (float): The Gaussian similarity cutoff. Default is 0.6.&lt;/li&gt;
&lt;li&gt;&lt;code&gt;fill_ratio&lt;/code&gt; (float): The zero values will be replaced by the minimum value in the feature matrix times fill_ratio. Default is 0.5.&lt;/li&gt;
&lt;li&gt;&lt;code&gt;cross_validation_k&lt;/code&gt; (int): The number of folds for cross-validation. Default is 5.&lt;/li&gt;
&lt;/ul&gt;
&lt;h3&gt;predict_samples&lt;span class=&#34;absolute -mt-20&#34; id=&#34;predict_samples&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#predict_samples&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h3&gt;&lt;p&gt;&lt;code&gt;predict_samples(path, mz_tol=0.01, rt_tol=0.3)&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Parameters:&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;path&lt;/code&gt; (str): Path to the project file.&lt;/li&gt;
&lt;li&gt;&lt;code&gt;mz_tol&lt;/code&gt; (float): The m/z tolerance for matching the features. Default is 0.01.&lt;/li&gt;
&lt;li&gt;&lt;code&gt;rt_tol&lt;/code&gt; (float): The retention time tolerance for matching the features. Default is 0.3.&lt;/li&gt;
&lt;/ul&gt;

      </description>
    </item>
    
    <item>
      <title>Data preparation</title>
      <link>https://example.org/docs/workflows/data_preparation/</link>
      <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
      
      <guid>https://example.org/docs/workflows/data_preparation/</guid>
      <description>
        
        
        &lt;h2&gt;File conversion&lt;span class=&#34;absolute -mt-20&#34; id=&#34;file-conversion&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#file-conversion&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h2&gt;&lt;p&gt;Raw LC-MS data need to be converted to &lt;strong&gt;mzML&lt;/strong&gt; or &lt;strong&gt;mxXML&lt;/strong&gt; format for further processing in MassCube.&lt;/p&gt;





  












&lt;div class=&#34;overflow-x-auto mt-6 flex rounded-lg border py-2 ltr:pr-4 rtl:pl-4 contrast-more:border-current contrast-more:dark:border-current border-orange-100 bg-orange-50 text-orange-800 dark:border-orange-400/30 dark:bg-orange-400/20 dark:text-orange-300&#34;&gt;
  &lt;div class=&#34;ltr:pl-3 ltr:pr-2 rtl:pr-3 rtl:pl-2&#34;&gt;&lt;/div&gt;

  &lt;div class=&#34;w-full min-w-0 leading-7&#34;&gt;
    &lt;div class=&#34;mt-6 leading-7 first:mt-0&#34;&gt;
      Currently, only &lt;strong&gt;centroid&lt;/strong&gt; data are supported in MassCube.
    &lt;/div&gt;
  &lt;/div&gt;
&lt;/div&gt;

&lt;p&gt;We recommend to use &lt;strong&gt;MSConvert&lt;/strong&gt; for file conversion.&lt;/p&gt;
&lt;h3&gt;Download and install MSConvert&lt;span class=&#34;absolute -mt-20&#34; id=&#34;download-and-install-msconvert&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#download-and-install-msconvert&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h3&gt;&lt;p&gt;Visit the &lt;a href=&#34;https://proteowizard.sourceforge.io/download.html&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;official website&lt;/a&gt; to download ProteoWizard.&lt;/p&gt;
&lt;h3&gt;File conversion using MSConvert&lt;span class=&#34;absolute -mt-20&#34; id=&#34;file-conversion-using-msconvert&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#file-conversion-using-msconvert&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h3&gt;&lt;p&gt;
    &lt;figure&gt;
    &lt;img src=&#34;../MSConvert.png&#34; title=&#34;Fig. 1. MSConvert GUI&#34; alt=&#34;&#34; loading=&#34;lazy&#34; /&gt;
    &lt;figcaption&gt;Fig. 1. MSConvert GUI&lt;/figcaption&gt;
  &lt;/figure&gt;&lt;/p&gt;
&lt;div class=&#34;steps ml-4 mb-12 border-l border-gray-200 pl-6 dark:border-neutral-800 [counter-reset:step]&#34;&gt;
&lt;h3&gt;Step 1. Set options&lt;span class=&#34;absolute -mt-20&#34; id=&#34;step-1-set-options&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#step-1-set-options&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h3&gt;&lt;p&gt;Check the boxes as shown in &lt;strong&gt;Fig. 1&lt;/strong&gt;.&lt;/p&gt;
&lt;div class=&#34;overflow-x-auto mt-6 flex rounded-lg border py-2 ltr:pr-4 rtl:pl-4 contrast-more:border-current contrast-more:dark:border-current border-yellow-100 bg-yellow-50 text-yellow-900 dark:border-yellow-200/30 dark:bg-yellow-700/30 dark:text-yellow-200&#34;&gt;
  &lt;div class=&#34;ltr:pl-3 ltr:pr-2 rtl:pr-3 rtl:pl-2&#34;&gt;&lt;div class=&#34;select-none text-xl&#34; style=&#34;font-family: &#39;Apple Color Emoji&#39;, &#39;Segoe UI Emoji&#39;, &#39;Segoe UI Symbol&#39;;&#34;&gt;
        ⚠️
      &lt;/div&gt;&lt;/div&gt;
  &lt;div class=&#34;w-full min-w-0 leading-7&#34;&gt;
    &lt;div class=&#34;mt-6 leading-7 first:mt-0&#34;&gt;
      Do NOT check &lt;strong&gt;Use Zlib compression&lt;/strong&gt;.
    &lt;/div&gt;
  &lt;/div&gt;
&lt;/div&gt;
&lt;h3&gt;Step 2. Set the Peak Picking filter&lt;span class=&#34;absolute -mt-20&#34; id=&#34;step-2-set-the-peak-picking-filter&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#step-2-set-the-peak-picking-filter&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h3&gt;&lt;h3&gt;Step 3. Add the Peak Picking filter&lt;span class=&#34;absolute -mt-20&#34; id=&#34;step-3-add-the-peak-picking-filter&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#step-3-add-the-peak-picking-filter&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h3&gt;&lt;h3&gt;Step 4. Browse and load files&lt;span class=&#34;absolute -mt-20&#34; id=&#34;step-4-browse-and-load-files&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#step-4-browse-and-load-files&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h3&gt;&lt;h3&gt;Step 5. Start conversion&lt;span class=&#34;absolute -mt-20&#34; id=&#34;step-5-start-conversion&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#step-5-start-conversion&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h3&gt;&lt;p&gt;By default, the converted files will be saved in the same directory as the raw files.&lt;/p&gt;
&lt;/div&gt;
&lt;details class=&#34;last-of-type:mb-0 rounded-lg bg-neutral-50 dark:bg-neutral-800 p-2 mt-4 group&#34; &gt;
  &lt;summary class=&#34;flex items-center cursor-pointer select-none list-none p-1 rounded transition-colors hover:bg-gray-100 dark:hover:bg-neutral-800 before:mr-1 before:inline-block before:transition-transform before:content-[&#39;&#39;] dark:before:invert rtl:before:rotate-180 group-open:before:rotate-90&#34;&gt;
    &lt;strong class=&#34;text-lg&#34;&gt;Convert files in command line mode&lt;/strong&gt;
  &lt;/summary&gt;
  &lt;div class=&#34;p-2 overflow-hidden&#34;&gt;
    You can also convert files using MSConvert in command line mode. For more information, please refer to the &lt;a href=&#34;https://proteowizard.sourceforge.io/tools/msconvert.html&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;documentation&lt;/a&gt;.
  &lt;/div&gt;
&lt;/details&gt;

&lt;h2&gt;Parameter file&lt;span class=&#34;absolute -mt-20&#34; id=&#34;parameter-file&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#parameter-file&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h2&gt;&lt;p&gt;A parameter file (.csv) is used to set parameters for the workflow. A templete is provided &lt;a href=&#34;https://github.com/huaxuyu/masscubedocs/blob/main/content/docs/parameters.csv&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;here&lt;/a&gt;. If not provided, the &lt;a href=&#34;../parameters&#34; &gt;default parameters&lt;/a&gt; will be applied. For MassCube version 1.0 or earlier, please use this &lt;a href=&#34;https://github.com/huaxuyu/masscubedocs/blob/main/content/docs/parameters_ver1.csv&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;template&lt;/a&gt;.&lt;/p&gt;
&lt;h2&gt;Sample table&lt;span class=&#34;absolute -mt-20&#34; id=&#34;sample-table&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#sample-table&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h2&gt;&lt;p&gt;A sample table (.csv) is used to claim the name of samples and their groups including biological groups, quality control samples, or blank samples. A templete is provided &lt;a href=&#34;https://github.com/huaxuyu/masscubedocs/blob/main/content/docs/sample_table.csv&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;here&lt;/a&gt;. For MassCube version 1.0 or earlier, please use this &lt;a href=&#34;https://github.com/huaxuyu/masscubedocs/blob/main/content/docs/sample_table_ver1.csv&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;template&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;For large-scale metabolomics data, it&amp;rsquo;s not easy to prepare the sample table manually. In MassCube, we provide a function to automatically generate the sample table based on the file names in the data folder, and users can further define the groups.&lt;/p&gt;
&lt;h3&gt;Automatically generate sample table&lt;span class=&#34;absolute -mt-20&#34; id=&#34;automatically-generate-sample-table&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#automatically-generate-sample-table&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h3&gt;&lt;p&gt;In the project folder, open a terminal and run the following command:&lt;/p&gt;
&lt;div class=&#34;code-block relative mt-6 first:mt-0 group/code&#34;&gt;&lt;div&gt;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;generate-sample-table&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class=&#34;opacity-0 transition group-hover/code:opacity-100 flex gap-1 absolute m-[11px] right-0 top-0&#34;&gt;
    &lt;button
      class=&#34;code-copy-btn group/copybtn transition-all active:opacity-50 bg-primary-700/5 border border-black/5 text-gray-600 hover:text-gray-900 rounded-md p-1.5 dark:bg-primary-300/10 dark:border-white/10 dark:text-gray-400 dark:hover:text-gray-50&#34;
      title=&#34;Copy code&#34;
    &gt;
      &lt;div class=&#34;group-[.copied]/copybtn:hidden copy-icon pointer-events-none h-4 w-4&#34;&gt;&lt;/div&gt;
      &lt;div class=&#34;hidden group-[.copied]/copybtn:block success-icon pointer-events-none h-4 w-4&#34;&gt;&lt;/div&gt;
    &lt;/button&gt;
  &lt;/div&gt;
&lt;/div&gt;
&lt;p&gt;Your project folder should include a subfolder named &lt;strong&gt;data&lt;/strong&gt; that contains the raw LC-MS data files in &lt;strong&gt;mzML&lt;/strong&gt; or &lt;strong&gt;mzXML&lt;/strong&gt; format.&lt;/p&gt;
&lt;div class=&#34;code-block relative mt-6 first:mt-0 group/code&#34;&gt;&lt;pre&gt;&lt;code&gt;my_project
├── data
│ ├── sample1.mzML
│ ├── sample2.mzML
| └── ...
|── ...&lt;/code&gt;&lt;/pre&gt;&lt;div class=&#34;opacity-0 transition group-hover/code:opacity-100 flex gap-1 absolute m-[11px] right-0 top-0&#34;&gt;
    &lt;button
      class=&#34;code-copy-btn group/copybtn transition-all active:opacity-50 bg-primary-700/5 border border-black/5 text-gray-600 hover:text-gray-900 rounded-md p-1.5 dark:bg-primary-300/10 dark:border-white/10 dark:text-gray-400 dark:hover:text-gray-50&#34;
      title=&#34;Copy code&#34;
    &gt;
      &lt;div class=&#34;group-[.copied]/copybtn:hidden copy-icon pointer-events-none h-4 w-4&#34;&gt;&lt;/div&gt;
      &lt;div class=&#34;hidden group-[.copied]/copybtn:block success-icon pointer-events-none h-4 w-4&#34;&gt;&lt;/div&gt;
    &lt;/button&gt;
  &lt;/div&gt;
&lt;/div&gt;





  












&lt;div class=&#34;overflow-x-auto mt-6 flex rounded-lg border py-2 ltr:pr-4 rtl:pl-4 contrast-more:border-current contrast-more:dark:border-current border-orange-100 bg-orange-50 text-orange-800 dark:border-orange-400/30 dark:bg-orange-400/20 dark:text-orange-300&#34;&gt;
  &lt;div class=&#34;ltr:pl-3 ltr:pr-2 rtl:pr-3 rtl:pl-2&#34;&gt;&lt;/div&gt;

  &lt;div class=&#34;w-full min-w-0 leading-7&#34;&gt;
    &lt;div class=&#34;mt-6 leading-7 first:mt-0&#34;&gt;
      You need to further edit the generated sample table to specify QCs, blanks and sample groups.
    &lt;/div&gt;
  &lt;/div&gt;
&lt;/div&gt;


      </description>
    </item>
    
    <item>
      <title>feature_detection</title>
      <link>https://example.org/docs/api/feature_detection/</link>
      <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
      
      <guid>https://example.org/docs/api/feature_detection/</guid>
      <description>
        
        
        &lt;h2&gt;Overview&lt;span class=&#34;absolute -mt-20&#34; id=&#34;overview&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#overview&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h2&gt;&lt;p&gt;Untargeted feature detection.&lt;/p&gt;
&lt;h2&gt;Classes&lt;span class=&#34;absolute -mt-20&#34; id=&#34;classes&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#classes&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h2&gt;&lt;h3&gt;&lt;code&gt;Feature&lt;/code&gt;&lt;span class=&#34;absolute -mt-20&#34; id=&#34;feature&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#feature&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h3&gt;&lt;p&gt;A class to store a feature characterized by a unique pair of m/z and retention time.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Attributes:&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;&lt;code&gt;rt_seq&lt;/code&gt; (list of float): Retention time sequence.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;code&gt;signals&lt;/code&gt; (list): Signal sequence organized as [[m/z, intensity], &amp;hellip;].&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;code&gt;scan_idx_seq&lt;/code&gt; (list of int): Scan index sequence.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;code&gt;ms2_seq&lt;/code&gt; (list): MS2 spectra.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;code&gt;gap_counter&lt;/code&gt; (int): Counter for the number of consecutive zeros in the peak tail.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;code&gt;id&lt;/code&gt; (int): Feature ID.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;code&gt;feature_group_id&lt;/code&gt; (int): Peak group ID.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;code&gt;mz&lt;/code&gt; (float): m/z value.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;code&gt;rt&lt;/code&gt; (float): Retention time.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;code&gt;scan_idx&lt;/code&gt; (int): Scan index of the peak apex.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;code&gt;peak_height&lt;/code&gt; (float): Peak height.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;code&gt;peak_area&lt;/code&gt; (float): Peak area.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;code&gt;top_average&lt;/code&gt; (float): Average of the highest three intensities.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;code&gt;ms2&lt;/code&gt; (object): Representative MS2 spectrum.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;code&gt;length&lt;/code&gt; (int): Number of valid scans in the feature.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;code&gt;gaussian_similarity&lt;/code&gt; (float): Gaussian similarity.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;code&gt;noise_score&lt;/code&gt; (float): Noise score.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;code&gt;asymmetry_factor&lt;/code&gt; (float): Asymmetry factor.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;code&gt;sse&lt;/code&gt; (float): Squared error to the smoothed curve.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;code&gt;is_segmented&lt;/code&gt; (bool): Indicates if the feature is segmented.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;code&gt;is_isotope&lt;/code&gt; (bool): Indicates if the feature is an isotope.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;code&gt;charge_state&lt;/code&gt; (int): Charge state of the feature.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;code&gt;isotope_signals&lt;/code&gt; (list): Isotope signals [[m/z, intensity], &amp;hellip;].&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;code&gt;is_in_source_fragment&lt;/code&gt; (bool): Indicates if the feature is an in-source fragment.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;code&gt;adduct_type&lt;/code&gt; (str): Adduct type.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;code&gt;annotation_algorithm&lt;/code&gt; (str): Annotation algorithm.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;code&gt;search_mode&lt;/code&gt; (str): Search mode (&amp;lsquo;identity search&amp;rsquo;, &amp;lsquo;fuzzy search&amp;rsquo;, or &amp;lsquo;mzrt_search&amp;rsquo;).&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;code&gt;similarity&lt;/code&gt; (float): Similarity score (0-1).&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;code&gt;annotation&lt;/code&gt; (str): Name of annotated compound.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;code&gt;formula&lt;/code&gt; (str): Molecular formula.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;code&gt;matched_peak_number&lt;/code&gt; (int): Number of matched peaks.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;code&gt;smiles&lt;/code&gt; (str): SMILES notation.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;code&gt;inchikey&lt;/code&gt; (str): InChIKey notation.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;code&gt;matched_precursor_mz&lt;/code&gt; (float): Matched precursor m/z.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;code&gt;matched_ms2&lt;/code&gt; (object): Matched MS2 spectra.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;code&gt;matched_adduct_type&lt;/code&gt; (str): Matched adduct type.&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;strong&gt;Methods:&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;extend(self, rt, signal, scan_idx)&lt;/code&gt;: Extends the chromatographic peak with new data points.&lt;/li&gt;
&lt;li&gt;&lt;code&gt;get_mz_error(self)&lt;/code&gt;: Calculates the 3*sigma error of the feature&amp;rsquo;s m/z.&lt;/li&gt;
&lt;li&gt;&lt;code&gt;get_rt_error(self)&lt;/code&gt;: Calculates the 3*sigma error of the feature&amp;rsquo;s retention time.&lt;/li&gt;
&lt;li&gt;&lt;code&gt;summarize(self, ph=True, pa=True, ta=True, g_score=True, n_score=True, a_score=True)&lt;/code&gt;: Summarizes the feature by calculating summary statistics.&lt;/li&gt;
&lt;li&gt;&lt;code&gt;subset(self, start, end, summarize=True)&lt;/code&gt;: Keeps a subset of the feature based on start and end positions.&lt;/li&gt;
&lt;/ul&gt;
&lt;h2&gt;Functions&lt;span class=&#34;absolute -mt-20&#34; id=&#34;functions&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#functions&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h2&gt;&lt;h3&gt;&lt;code&gt;detect_features&lt;/code&gt;&lt;span class=&#34;absolute -mt-20&#34; id=&#34;detect_features&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#detect_features&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h3&gt;&lt;p&gt;&lt;code&gt;detect_features(d)&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;Detects features in the MS data.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Parameters:&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;d&lt;/code&gt; (MSData object): An object that contains the MS data.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;strong&gt;Returns:&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;final_features&lt;/code&gt; (list of &lt;code&gt;Feature&lt;/code&gt; objects): A list of detected features.&lt;/li&gt;
&lt;/ul&gt;
&lt;h3&gt;&lt;code&gt;segment_feature&lt;/code&gt;&lt;span class=&#34;absolute -mt-20&#34; id=&#34;segment_feature&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#segment_feature&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h3&gt;&lt;p&gt;&lt;code&gt;segment_feature(feature, sigma=1.2, prominence_ratio=0.05, distance=10, peak_height_tol=1000, length_tol=5, sse_tol=0.5)&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;Segments a feature into multiple features based on edge detection.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Parameters:&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;feature&lt;/code&gt; (&lt;code&gt;Feature&lt;/code&gt; object): The feature to segment.&lt;/li&gt;
&lt;li&gt;&lt;code&gt;sigma&lt;/code&gt; (float): The sigma value for the Gaussian filter. DFault is 1.2.&lt;/li&gt;
&lt;li&gt;&lt;code&gt;prominence_ratio&lt;/code&gt; (float): The prominence ratio for finding peaks. Default is 0.05.&lt;/li&gt;
&lt;li&gt;&lt;code&gt;distance&lt;/code&gt; (int): The minimum distance between peaks. Default is 10.&lt;/li&gt;
&lt;li&gt;&lt;code&gt;peak_height_tol&lt;/code&gt; (float): The peak height tolerance for segmentation.&lt;/li&gt;
&lt;li&gt;&lt;code&gt;length_tol&lt;/code&gt; (int): The length tolerance for segmentation. Default is 5.&lt;/li&gt;
&lt;li&gt;&lt;code&gt;sse_tol&lt;/code&gt; (float): The squared error tolerance for segmentation. Default is 0.5.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;strong&gt;Returns:&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;segmented_features&lt;/code&gt; (list of &lt;code&gt;Feature&lt;/code&gt; objects): A list of segmented features.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Please see the source code for more internal functions.&lt;/p&gt;

      </description>
    </item>
    
    <item>
      <title>feature_evaluation</title>
      <link>https://example.org/docs/api/feature_evaluation/</link>
      <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
      
      <guid>https://example.org/docs/api/feature_evaluation/</guid>
      <description>
        
        
        &lt;h2&gt;Overview&lt;span class=&#34;absolute -mt-20&#34; id=&#34;overview&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#overview&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h2&gt;&lt;p&gt;This module provides tools for evaluating the quality of detected features in untargeted metabolomics data. The quality metrics include Gaussian similarity, noise level, and asymmetry factor, which can help assess the reliability and robustness of detected peaks.&lt;/p&gt;
&lt;h2&gt;Functions&lt;span class=&#34;absolute -mt-20&#34; id=&#34;functions&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#functions&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h2&gt;&lt;h3&gt;calculate_gaussian_similarity&lt;span class=&#34;absolute -mt-20&#34; id=&#34;calculate_gaussian_similarity&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#calculate_gaussian_similarity&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h3&gt;&lt;p&gt;&lt;code&gt;calculate_gaussian_similarity(x, y)&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;Calculates the Gaussian similarity of a peak by comparing its shape to a Gaussian distribution (Pearson product-moment correlation coefficients).&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Parameters:&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;x&lt;/code&gt; (numpy array): Retention time values of the peak.&lt;/li&gt;
&lt;li&gt;&lt;code&gt;y&lt;/code&gt; (numpy array): Intensity values of the peak.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;strong&gt;Returns:&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;similarity&lt;/code&gt; (float): Gaussian similarity score, where higher values indicate better similarity to a Gaussian distribution.&lt;/li&gt;
&lt;/ul&gt;
&lt;h3&gt;calculate_noise_level&lt;span class=&#34;absolute -mt-20&#34; id=&#34;calculate_noise_level&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#calculate_noise_level&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h3&gt;&lt;p&gt;&lt;code&gt;calculate_noise_level(y, rel_int_tol=0.05)&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;Calculates the noise level of a peak by observing the intensity fluctuations in the peak.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Parameters:&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;y&lt;/code&gt; (numpy array): Intensity values of the peak.&lt;/li&gt;
&lt;li&gt;&lt;code&gt;rel_int_tol&lt;/code&gt; (float): Relative intensity tolerance to the base peak.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;strong&gt;Returns:&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;noise_level&lt;/code&gt; (float): Noise level, reflecting the signal fluctuation.&lt;/li&gt;
&lt;/ul&gt;
&lt;h3&gt;calculate_asymmetry_factor&lt;span class=&#34;absolute -mt-20&#34; id=&#34;calculate_asymmetry_factor&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#calculate_asymmetry_factor&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h3&gt;&lt;p&gt;&lt;code&gt;calculate_asymmetry_factor(y)&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;Calculates the asymmetry factor of the peak at 10% of the peak height.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Parameters:&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;y&lt;/code&gt; (numpy array): Intensity values of the peak.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;strong&gt;Returns:&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;asymmetry_factor&lt;/code&gt; (float): Asymmetry factor, indicating the peak shape asymmetry.&lt;/li&gt;
&lt;/ul&gt;

      </description>
    </item>
    
    <item>
      <title>feature_grouping</title>
      <link>https://example.org/docs/api/feature_grouping/</link>
      <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
      
      <guid>https://example.org/docs/api/feature_grouping/</guid>
      <description>
        
        
        &lt;h2&gt;Overview&lt;span class=&#34;absolute -mt-20&#34; id=&#34;overview&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#overview&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h2&gt;&lt;p&gt;The &lt;code&gt;feature_grouping&lt;/code&gt; module provides functions to group features based on their m/z values, retention times, MS2 data, and scan-to-scan correlation. The module is designed for untargeted metabolomics workflows to group features that may represent the same compound, isotopes, in-source fragments, or adducts. The functions in this module are used to group features based on the reference file or within a single file.&lt;/p&gt;
&lt;h2&gt;Functions&lt;span class=&#34;absolute -mt-20&#34; id=&#34;functions&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#functions&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h2&gt;&lt;h3&gt;group_features_after_alignment&lt;span class=&#34;absolute -mt-20&#34; id=&#34;group_features_after_alignment&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#group_features_after_alignment&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h3&gt;&lt;p&gt;&lt;code&gt;group_features_after_alignment(features, params: Params)&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;Groups features after alignment based on the reference file. This function requires reloading the raw data to examine the scan-to-scan correlation between features. The annotated feature groups are stored in the &lt;code&gt;feature_group_id&lt;/code&gt; attribute of the AlignedFeature objects.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Parameters:&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;features&lt;/code&gt; (list): A list of AlignedFeature objects.&lt;/li&gt;
&lt;li&gt;&lt;code&gt;params&lt;/code&gt; (Params object): A Params object that contains the parameters for feature grouping.&lt;/li&gt;
&lt;/ul&gt;
&lt;h3&gt;group_features_single_file&lt;span class=&#34;absolute -mt-20&#34; id=&#34;group_features_single_file&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#group_features_single_file&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h3&gt;&lt;p&gt;&lt;code&gt;group_features_single_file(d)&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;Groups features from a single file based on the m/z, retention time, MS2, and scan-to-scan correlation. The annotated feature groups are stored in the &lt;code&gt;feature_group_id&lt;/code&gt; attribute of the Feature objects.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Parameters:&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;d&lt;/code&gt; (MSData object): An MSData object containing the detected ROIs to be grouped.&lt;/li&gt;
&lt;/ul&gt;
&lt;h3&gt;generate_search_dict&lt;span class=&#34;absolute -mt-20&#34; id=&#34;generate_search_dict&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#generate_search_dict&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h3&gt;&lt;p&gt;&lt;code&gt;generate_search_dict(feature, adduct_form, ion_mode)&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;Generates a search dictionary for feature grouping based on the adduct form and ionization mode.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Parameters:&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;feature&lt;/code&gt; (Feature object): The feature object to be grouped.&lt;/li&gt;
&lt;li&gt;&lt;code&gt;adduct_form&lt;/code&gt; (str): The adduct form of the feature.&lt;/li&gt;
&lt;li&gt;&lt;code&gt;ion_mode&lt;/code&gt; (str): The ionization mode, either &amp;ldquo;positive&amp;rdquo; or &amp;ldquo;negative&amp;rdquo;.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;strong&gt;Returns:&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;dict&lt;/code&gt;: A dictionary containing the possible adducts and in-source fragments.&lt;/li&gt;
&lt;/ul&gt;
&lt;h3&gt;find_isotope_signals&lt;span class=&#34;absolute -mt-20&#34; id=&#34;find_isotope_signals&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#find_isotope_signals&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h3&gt;&lt;p&gt;&lt;code&gt;find_isotope_signals(mz, signals, mz_tol=0.015, charge_state=1, num=5)&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;Finds isotope patterns from the MS1 signals based on the m/z value and intensity.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Parameters:&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;mz&lt;/code&gt; (float): The m/z value of the feature.&lt;/li&gt;
&lt;li&gt;&lt;code&gt;signals&lt;/code&gt; (np.array): The MS1 signals as [[m/z, intensity], &amp;hellip;].&lt;/li&gt;
&lt;li&gt;&lt;code&gt;mz_tol&lt;/code&gt; (float): The m/z tolerance to find isotopes (default 0.015 Da).&lt;/li&gt;
&lt;li&gt;&lt;code&gt;charge_state&lt;/code&gt; (int): The charge state of the feature (default 1).&lt;/li&gt;
&lt;li&gt;&lt;code&gt;num&lt;/code&gt; (int): The maximum number of isotopes to be found (default 5).&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;strong&gt;Returns:&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;numpy.array&lt;/code&gt;: The m/z and intensity of the isotopes.&lt;/li&gt;
&lt;/ul&gt;
&lt;h3&gt;scan_to_scan_cor_intensity&lt;span class=&#34;absolute -mt-20&#34; id=&#34;scan_to_scan_cor_intensity&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#scan_to_scan_cor_intensity&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h3&gt;&lt;p&gt;&lt;code&gt;scan_to_scan_cor_intensity(a, b)&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;Calculates the scan-to-scan correlation between two features using Pearson correlation based on their intensity profiles.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Parameters:&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;a&lt;/code&gt; (np.array): Intensity array of the first m/z.&lt;/li&gt;
&lt;li&gt;&lt;code&gt;b&lt;/code&gt; (np.array): Intensity array of the second m/z.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;strong&gt;Returns:&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;float&lt;/code&gt;: The scan-to-scan correlation between the two features.&lt;/li&gt;
&lt;/ul&gt;
&lt;h3&gt;scan_to_scan_correlation&lt;span class=&#34;absolute -mt-20&#34; id=&#34;scan_to_scan_correlation&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#scan_to_scan_correlation&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h3&gt;&lt;p&gt;&lt;code&gt;scan_to_scan_correlation(feature_a, feature_b)&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;Calculates the scan-to-scan correlation between two features using Pearson correlation based on their intensity profiles.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Parameters:&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;feature_a&lt;/code&gt; (Feature object): The first feature object.&lt;/li&gt;
&lt;li&gt;&lt;code&gt;feature_b&lt;/code&gt; (Feature object): The second feature object.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;strong&gt;Returns:&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;float&lt;/code&gt;: The scan-to-scan correlation between the two features.&lt;/li&gt;
&lt;/ul&gt;
&lt;h3&gt;get_charge_state&lt;span class=&#34;absolute -mt-20&#34; id=&#34;get_charge_state&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#get_charge_state&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h3&gt;&lt;p&gt;&lt;code&gt;get_charge_state(mz_seq, valid_charge_states=[1,2])&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;Determines the charge state of the isotopes based on the m/z sequence.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Parameters:&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;mz_seq&lt;/code&gt; (list): A list of m/z values of isotopes.&lt;/li&gt;
&lt;li&gt;&lt;code&gt;valid_charge_states&lt;/code&gt; (list): A list of valid charge states (default [1,2]).&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;strong&gt;Returns:&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;int&lt;/code&gt;: The charge state of the isotopes.&lt;/li&gt;
&lt;/ul&gt;
&lt;h2&gt;Constants&lt;span class=&#34;absolute -mt-20&#34; id=&#34;constants&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#constants&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h2&gt;&lt;h3&gt;&lt;code&gt;ADDUCT_POS&lt;/code&gt;&lt;span class=&#34;absolute -mt-20&#34; id=&#34;adduct_pos&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#adduct_pos&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h3&gt;&lt;p&gt;A dictionary of positive adducts with the adduct form as the key and the m/z shift, charge state, and multiplier as the values.&lt;/p&gt;
&lt;h3&gt;&lt;code&gt;ADDUCT_NEG&lt;/code&gt;&lt;span class=&#34;absolute -mt-20&#34; id=&#34;adduct_neg&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#adduct_neg&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h3&gt;&lt;p&gt;A dictionary of negative adducts with the adduct form as the key and the m/z shift, charge state, and multiplier as the values.&lt;/p&gt;

      </description>
    </item>
    
    <item>
      <title>Installation</title>
      <link>https://example.org/docs/installation/</link>
      <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
      
      <guid>https://example.org/docs/installation/</guid>
      <description>
        
        
        &lt;h2&gt;Install Python&lt;span class=&#34;absolute -mt-20&#34; id=&#34;install-python&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#install-python&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h2&gt;&lt;p&gt;Visit the &lt;a href=&#34;https://www.python.org/&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;official Python website&lt;/a&gt; to download Python. &lt;strong&gt;Python 3.11&lt;/strong&gt; is recommended.&lt;/p&gt;
&lt;details class=&#34;last-of-type:mb-0 rounded-lg bg-neutral-50 dark:bg-neutral-800 p-2 mt-4 group&#34; &gt;
  &lt;summary class=&#34;flex items-center cursor-pointer select-none list-none p-1 rounded transition-colors hover:bg-gray-100 dark:hover:bg-neutral-800 before:mr-1 before:inline-block before:transition-transform before:content-[&#39;&#39;] dark:before:invert rtl:before:rotate-180 group-open:before:rotate-90&#34;&gt;
    &lt;strong class=&#34;text-lg&#34;&gt;Download Python 3.11.7&lt;/strong&gt;
  &lt;/summary&gt;
  &lt;div class=&#34;p-2 overflow-hidden&#34;&gt;
    Download &lt;a href=&#34;https://www.python.org/downloads/release/python-3117/&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;Python 3.11.7&lt;/a&gt;.
  &lt;/div&gt;
&lt;/details&gt;
















&lt;div class=&#34;overflow-x-auto mt-6 flex rounded-lg border py-2 ltr:pr-4 rtl:pl-4 contrast-more:border-current contrast-more:dark:border-current border-orange-100 bg-orange-50 text-orange-800 dark:border-orange-400/30 dark:bg-orange-400/20 dark:text-orange-300&#34;&gt;
  &lt;div class=&#34;ltr:pl-3 ltr:pr-2 rtl:pr-3 rtl:pl-2&#34;&gt;&lt;div class=&#34;select-none text-xl&#34; style=&#34;font-family: &#39;Apple Color Emoji&#39;, &#39;Segoe UI Emoji&#39;, &#39;Segoe UI Symbol&#39;;&#34;&gt;
        ❗
      &lt;/div&gt;&lt;/div&gt;

  &lt;div class=&#34;w-full min-w-0 leading-7&#34;&gt;
    &lt;div class=&#34;mt-6 leading-7 first:mt-0&#34;&gt;
      Add Python to PATH during installation: check the box ☑️ Add Python 3.X to PATH.
    &lt;/div&gt;
  &lt;/div&gt;
&lt;/div&gt;

&lt;h2&gt;Install &lt;em&gt;masscube&lt;/em&gt;&lt;span class=&#34;absolute -mt-20&#34; id=&#34;install-_masscube_&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#install-_masscube_&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h2&gt;&lt;p&gt;&lt;em&gt;masscube&lt;/em&gt; is a Python package that can be installed using &lt;strong&gt;pip&lt;/strong&gt;. Open terminal and run&lt;/p&gt;
&lt;div class=&#34;code-block relative mt-6 first:mt-0 group/code&#34;&gt;&lt;div&gt;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-console&#34; data-lang=&#34;console&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;go&#34;&gt;pip install masscube
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class=&#34;opacity-0 transition group-hover/code:opacity-100 flex gap-1 absolute m-[11px] right-0 top-0&#34;&gt;
    &lt;button
      class=&#34;code-copy-btn group/copybtn transition-all active:opacity-50 bg-primary-700/5 border border-black/5 text-gray-600 hover:text-gray-900 rounded-md p-1.5 dark:bg-primary-300/10 dark:border-white/10 dark:text-gray-400 dark:hover:text-gray-50&#34;
      title=&#34;Copy code&#34;
    &gt;
      &lt;div class=&#34;group-[.copied]/copybtn:hidden copy-icon pointer-events-none h-4 w-4&#34;&gt;&lt;/div&gt;
      &lt;div class=&#34;hidden group-[.copied]/copybtn:block success-icon pointer-events-none h-4 w-4&#34;&gt;&lt;/div&gt;
    &lt;/button&gt;
  &lt;/div&gt;
&lt;/div&gt;
&lt;p&gt;To update the package to the latest version, open terminal and run&lt;/p&gt;
&lt;div class=&#34;code-block relative mt-6 first:mt-0 group/code&#34;&gt;&lt;div&gt;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-console&#34; data-lang=&#34;console&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;go&#34;&gt;pip install masscube --upgrade
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class=&#34;opacity-0 transition group-hover/code:opacity-100 flex gap-1 absolute m-[11px] right-0 top-0&#34;&gt;
    &lt;button
      class=&#34;code-copy-btn group/copybtn transition-all active:opacity-50 bg-primary-700/5 border border-black/5 text-gray-600 hover:text-gray-900 rounded-md p-1.5 dark:bg-primary-300/10 dark:border-white/10 dark:text-gray-400 dark:hover:text-gray-50&#34;
      title=&#34;Copy code&#34;
    &gt;
      &lt;div class=&#34;group-[.copied]/copybtn:hidden copy-icon pointer-events-none h-4 w-4&#34;&gt;&lt;/div&gt;
      &lt;div class=&#34;hidden group-[.copied]/copybtn:block success-icon pointer-events-none h-4 w-4&#34;&gt;&lt;/div&gt;
    &lt;/button&gt;
  &lt;/div&gt;
&lt;/div&gt;
&lt;p&gt;To only install &lt;em&gt;masscube&lt;/em&gt; for the current user, add the &lt;code&gt;--user&lt;/code&gt; flag. This is to avoid permission issues when installing packages globally (e.g. you are not an administrator).&lt;/p&gt;
&lt;div class=&#34;code-block relative mt-6 first:mt-0 group/code&#34;&gt;&lt;div&gt;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-console&#34; data-lang=&#34;console&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;go&#34;&gt;pip install --user masscube
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class=&#34;opacity-0 transition group-hover/code:opacity-100 flex gap-1 absolute m-[11px] right-0 top-0&#34;&gt;
    &lt;button
      class=&#34;code-copy-btn group/copybtn transition-all active:opacity-50 bg-primary-700/5 border border-black/5 text-gray-600 hover:text-gray-900 rounded-md p-1.5 dark:bg-primary-300/10 dark:border-white/10 dark:text-gray-400 dark:hover:text-gray-50&#34;
      title=&#34;Copy code&#34;
    &gt;
      &lt;div class=&#34;group-[.copied]/copybtn:hidden copy-icon pointer-events-none h-4 w-4&#34;&gt;&lt;/div&gt;
      &lt;div class=&#34;hidden group-[.copied]/copybtn:block success-icon pointer-events-none h-4 w-4&#34;&gt;&lt;/div&gt;
    &lt;/button&gt;
  &lt;/div&gt;
&lt;/div&gt;
&lt;p&gt;Dependencies will be automatically installed. Consider creating a &lt;a href=&#34;https://docs.python.org/3/library/venv.html&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;virtual environment&lt;/a&gt; if you&amp;rsquo;re working with Python on multiple projects.&lt;/p&gt;
&lt;details class=&#34;last-of-type:mb-0 rounded-lg bg-neutral-50 dark:bg-neutral-800 p-2 mt-4 group&#34; &gt;
  &lt;summary class=&#34;flex items-center cursor-pointer select-none list-none p-1 rounded transition-colors hover:bg-gray-100 dark:hover:bg-neutral-800 before:mr-1 before:inline-block before:transition-transform before:content-[&#39;&#39;] dark:before:invert rtl:before:rotate-180 group-open:before:rotate-90&#34;&gt;
    &lt;strong class=&#34;text-lg&#34;&gt;Dependencies&lt;/strong&gt;
  &lt;/summary&gt;
  &lt;div class=&#34;p-2 overflow-hidden&#34;&gt;
    &lt;div class=&#34;code-block relative mt-6 first:mt-0 group/code&#34;&gt;&lt;pre&gt;&lt;code&gt;dependencies = [
    &amp;#34;numpy&amp;gt;=1.24&amp;#34;,
    &amp;#34;pandas&amp;gt;=2.2.1&amp;#34;,
    &amp;#34;pyteomics==4.6.3&amp;#34;,
    &amp;#34;scipy&amp;gt;=1.10.1&amp;#34;,
    &amp;#34;tqdm&amp;gt;=4.66.1&amp;#34;,
    &amp;#34;lxml&amp;gt;=4.9.3&amp;#34;,
    &amp;#34;matplotlib&amp;gt;=3.8.2&amp;#34;,
    &amp;#34;ms_entropy==1.2.2&amp;#34;,
    &amp;#34;scikit-learn&amp;gt;=1.3.2&amp;#34;,
    &amp;#34;statsmodels&amp;gt;=0.14.2&amp;#34;,
    &amp;#34;umap-learn&amp;gt;=0.5.7&amp;#34;,
]&lt;/code&gt;&lt;/pre&gt;&lt;div class=&#34;opacity-0 transition group-hover/code:opacity-100 flex gap-1 absolute m-[11px] right-0 top-0&#34;&gt;
    &lt;button
      class=&#34;code-copy-btn group/copybtn transition-all active:opacity-50 bg-primary-700/5 border border-black/5 text-gray-600 hover:text-gray-900 rounded-md p-1.5 dark:bg-primary-300/10 dark:border-white/10 dark:text-gray-400 dark:hover:text-gray-50&#34;
      title=&#34;Copy code&#34;
    &gt;
      &lt;div class=&#34;group-[.copied]/copybtn:hidden copy-icon pointer-events-none h-4 w-4&#34;&gt;&lt;/div&gt;
      &lt;div class=&#34;hidden group-[.copied]/copybtn:block success-icon pointer-events-none h-4 w-4&#34;&gt;&lt;/div&gt;
    &lt;/button&gt;
  &lt;/div&gt;
&lt;/div&gt;
  &lt;/div&gt;
&lt;/details&gt;

      </description>
    </item>
    
    <item>
      <title>MS/MS spectra visualization</title>
      <link>https://example.org/docs/visualization/ms2/</link>
      <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
      
      <guid>https://example.org/docs/visualization/ms2/</guid>
      <description>
        
        
        &lt;h2&gt;Mirror plot&lt;span class=&#34;absolute -mt-20&#34; id=&#34;mirror-plot&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#mirror-plot&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h2&gt;&lt;p&gt;Compare a pair of MS/MS spectra using a mirror plot:&lt;/p&gt;
&lt;div class=&#34;code-block relative mt-6 first:mt-0 group/code&#34;&gt;&lt;div&gt;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-python&#34; data-lang=&#34;python&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;kn&#34;&gt;from&lt;/span&gt; &lt;span class=&#34;nn&#34;&gt;masscube.annotation&lt;/span&gt; &lt;span class=&#34;kn&#34;&gt;import&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;extract_signals_from_string&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;kn&#34;&gt;from&lt;/span&gt; &lt;span class=&#34;nn&#34;&gt;masscube.visualization&lt;/span&gt; &lt;span class=&#34;kn&#34;&gt;import&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;mirror_ms2&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;n&#34;&gt;precursor_1&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;mf&#34;&gt;260.056&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;n&#34;&gt;precursor_2&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;mf&#34;&gt;180.1019&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;n&#34;&gt;ms2_1&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;#34;115.0538;0.1441|117.0689;0.3008|145.064;0.2618|163.0741;0.1822|180.1004;0.1111&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;n&#34;&gt;ms2_2&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;#34;79.0542;0.0034|91.0542;0.0308|105.0699;0.01|107.0491;0.0075|115.0542;0.0599|117.0699;0.3268|119.0491;0.0066|123.0441;0.0046|127.0542;0.0267|133.0648;0.0052|135.0661;0.0213|137.0597;0.0277|145.0648;0.3076|148.0519;0.0035|151.0754;0.021|163.0754;0.1376&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;n&#34;&gt;signals1&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;extract_signals_from_string&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;ms2_1&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;   &lt;span class=&#34;c1&#34;&gt;# convert string to 2D numpy array&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;n&#34;&gt;signals2&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;extract_signals_from_string&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;ms2_2&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;   &lt;span class=&#34;c1&#34;&gt;# convert string to 2D numpy array&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;n&#34;&gt;annotation&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;#34;Salsolinol&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;n&#34;&gt;similarity&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;mf&#34;&gt;0.84&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;n&#34;&gt;mirror_ms2&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;precursor_1&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;precursor_1&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;signals1&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;signals2&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;annotation&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;annotation&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;score&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;similarity&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class=&#34;opacity-0 transition group-hover/code:opacity-100 flex gap-1 absolute m-[11px] right-0 top-0&#34;&gt;
    &lt;button
      class=&#34;code-copy-btn group/copybtn transition-all active:opacity-50 bg-primary-700/5 border border-black/5 text-gray-600 hover:text-gray-900 rounded-md p-1.5 dark:bg-primary-300/10 dark:border-white/10 dark:text-gray-400 dark:hover:text-gray-50&#34;
      title=&#34;Copy code&#34;
    &gt;
      &lt;div class=&#34;group-[.copied]/copybtn:hidden copy-icon pointer-events-none h-4 w-4&#34;&gt;&lt;/div&gt;
      &lt;div class=&#34;hidden group-[.copied]/copybtn:block success-icon pointer-events-none h-4 w-4&#34;&gt;&lt;/div&gt;
    &lt;/button&gt;
  &lt;/div&gt;
&lt;/div&gt;
&lt;p&gt;ms2_1 and ms2_2 are MS/MS spectra in the format &amp;ldquo;m/z;intensity&amp;rdquo; pairs separated by &amp;ldquo;|&amp;rdquo;. You can copy them directly from the &lt;strong&gt;MS2&lt;/strong&gt; (experimental MS/MS) and &lt;strong&gt;matched_MS2&lt;/strong&gt; (database MS/MS) columns in the aligned_feature_table generated by the &lt;strong&gt;untargeted-metabolomics&lt;/strong&gt; command.&lt;/p&gt;
&lt;h3&gt;example output&lt;span class=&#34;absolute -mt-20&#34; id=&#34;example-output&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#example-output&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h3&gt;&lt;p&gt;
    &lt;img src=&#34;../salsolinol_sulfate.png&#34; alt=&#34;Mirror plot&#34; loading=&#34;lazy&#34; /&gt;&lt;/p&gt;

      </description>
    </item>
    
    <item>
      <title>normalization</title>
      <link>https://example.org/docs/api/normalization/</link>
      <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
      
      <guid>https://example.org/docs/api/normalization/</guid>
      <description>
        
        
        &lt;h2&gt;Overview&lt;span class=&#34;absolute -mt-20&#34; id=&#34;overview&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#overview&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h2&gt;&lt;p&gt;This module provides functions for normalizing data, particularly in the context of mass spectrometry. There are two types of normalization including&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;Sample normalization - to normalize samples with different total amounts/concentrations.&lt;/li&gt;
&lt;li&gt;Signal normalization - to address the signal drifts in the mass spectrometry data.&lt;/li&gt;
&lt;/ol&gt;
&lt;h2&gt;Functions&lt;span class=&#34;absolute -mt-20&#34; id=&#34;functions&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#functions&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h2&gt;&lt;h3&gt;sample_normalization&lt;span class=&#34;absolute -mt-20&#34; id=&#34;sample_normalization&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#sample_normalization&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h3&gt;&lt;p&gt;&lt;code&gt;sample_normalization(feature_table, sample_metadata=None, method=&#39;pqn&#39;, feature_selection=True)&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;Normalizes samples using a feature list, typically excluding blank samples.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Parameters:&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;feature_table&lt;/code&gt; (pandas DataFrame): The feature table.&lt;/li&gt;
&lt;li&gt;&lt;code&gt;sample_metadata&lt;/code&gt; (pd.DataFrame): DataFrame containing sample metadata. See params module for details.&lt;/li&gt;
&lt;li&gt;&lt;code&gt;method&lt;/code&gt; (str): The method to find the normalization factors. Options:
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;&#39;pqn&#39;&lt;/code&gt;: Probabilistic Quotient Normalization.&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;code&gt;feature_selection&lt;/code&gt; (bool): Whether to select high-quality features for normalization. High-quality features have relative standard deviation (RSD) less than 25% in QC samples and average intensity in QC+biological samples greater than 2 fold of the average intensity in blank samples.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;strong&gt;Returns:&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;pandas DataFrame&lt;/code&gt;: The normalized feature table.&lt;/li&gt;
&lt;/ul&gt;
&lt;h3&gt;find_normalization_factors&lt;span class=&#34;absolute -mt-20&#34; id=&#34;find_normalization_factors&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#find_normalization_factors&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h3&gt;&lt;p&gt;&lt;code&gt;find_normalization_factors(array, method=&#39;pqn&#39;)&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;Finds the normalization factors for a data frame.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Parameters:&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;array&lt;/code&gt; (numpy array): The data to be normalized.&lt;/li&gt;
&lt;li&gt;&lt;code&gt;method&lt;/code&gt; (str): The method to find the normalization factors. Options:
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;&#39;pqn&#39;&lt;/code&gt;: Probabilistic Quotient Normalization.&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;strong&gt;Returns:&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;numpy array&lt;/code&gt;: The normalization factors.&lt;/li&gt;
&lt;/ul&gt;
&lt;h3&gt;sample_normalization_by_factors&lt;span class=&#34;absolute -mt-20&#34; id=&#34;sample_normalization_by_factors&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#sample_normalization_by_factors&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h3&gt;&lt;p&gt;&lt;code&gt;sample_normalization_by_factors(array, v)&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;Normalizes a data frame by a vector.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Parameters:&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;array&lt;/code&gt; (numpy array): The data to be normalized.&lt;/li&gt;
&lt;li&gt;&lt;code&gt;v&lt;/code&gt; (numpy array): The normalization factor.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;strong&gt;Returns:&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;numpy array&lt;/code&gt;: The normalized data.&lt;/li&gt;
&lt;/ul&gt;
&lt;h3&gt;find_reference_sample&lt;span class=&#34;absolute -mt-20&#34; id=&#34;find_reference_sample&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#find_reference_sample&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h3&gt;&lt;p&gt;&lt;code&gt;find_reference_sample(array, method=&#39;median_intensity&#39;)&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;Finds the reference sample for normalization.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Parameters:&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;array&lt;/code&gt; (numpy array): The data to be normalized.&lt;/li&gt;
&lt;li&gt;&lt;code&gt;method&lt;/code&gt; (str): The method to find the reference sample. Options:
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;&#39;number&#39;&lt;/code&gt;: The reference sample has the most detected features.&lt;/li&gt;
&lt;li&gt;&lt;code&gt;&#39;total_intensity&#39;&lt;/code&gt;: The reference sample has the highest total intensity.&lt;/li&gt;
&lt;li&gt;&lt;code&gt;&#39;median_intensity&#39;&lt;/code&gt;: The reference sample has the highest median intensity.&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;strong&gt;Returns:&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;int&lt;/code&gt;: The index of the reference sample.&lt;/li&gt;
&lt;/ul&gt;
&lt;h3&gt;high_quality_feature_selection&lt;span class=&#34;absolute -mt-20&#34; id=&#34;high_quality_feature_selection&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#high_quality_feature_selection&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h3&gt;&lt;p&gt;&lt;code&gt;high_quality_feature_selection(array, is_qc=None, is_blank=None, blank_ratio_tol=0.5, qc_rsd_tol=0.25)&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;Selects high-quality features based on provided criteria for normalization.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Parameters:&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;array&lt;/code&gt; (numpy array): The data to be normalized. Samples are in columns and features are in rows.&lt;/li&gt;
&lt;li&gt;&lt;code&gt;is_qc&lt;/code&gt; (numpy array): Boolean array indicating whether a sample is a quality control sample.&lt;/li&gt;
&lt;li&gt;&lt;code&gt;is_blank&lt;/code&gt; (numpy array): Boolean array indicating whether a sample is a blank sample.&lt;/li&gt;
&lt;li&gt;&lt;code&gt;blank_ratio_tol&lt;/code&gt; (float): The tolerance of the ratio of the average intensity in blank samples to the average intensity in QC and biological samples.&lt;/li&gt;
&lt;li&gt;&lt;code&gt;qc_rsd_tol&lt;/code&gt; (float): The tolerance of the relative standard deviation (RSD) in QC samples.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;strong&gt;Returns:&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;numpy array&lt;/code&gt;: High-quality features. Features are in rows and samples are in columns.&lt;/li&gt;
&lt;li&gt;&lt;code&gt;numpy array&lt;/code&gt;: The index of the selected features.&lt;/li&gt;
&lt;/ul&gt;
&lt;h3&gt;signal_normalization&lt;span class=&#34;absolute -mt-20&#34; id=&#34;signal_normalization&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#signal_normalization&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h3&gt;&lt;p&gt;&lt;code&gt;signal_normalization(feature_table, sample_metadata, method=&#39;lowess&#39;, output_plot_path=None)&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;Normalizes MS signal drifts based on analytical order.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Parameters:&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;feature_table&lt;/code&gt; (pandas DataFrame): The feature table.&lt;/li&gt;
&lt;li&gt;&lt;code&gt;sample_metadata&lt;/code&gt; (pd.DataFrame): DataFrame containing sample metadata. See params module for details.&lt;/li&gt;
&lt;li&gt;&lt;code&gt;method&lt;/code&gt; (str): The method to find the normalization factors. Options:
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;&#39;lowess&#39;&lt;/code&gt;: Locally Weighted Scatterplot Smoothing.&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;code&gt;output_plot_path&lt;/code&gt; (str): The path to save the normalization plot. If none, no visualization will be generated.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;strong&gt;Returns:&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;pandas DataFrame&lt;/code&gt;: The normalized feature table.&lt;/li&gt;
&lt;/ul&gt;
&lt;h3&gt;lowess_normalization&lt;span class=&#34;absolute -mt-20&#34; id=&#34;lowess_normalization&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#lowess_normalization&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h3&gt;&lt;p&gt;&lt;code&gt;lowess_normalization(array, qc_idx, frac=0.07, it=3)&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;Normalizes samples using quality control samples.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Parameters:&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;array&lt;/code&gt; (numpy array): The data to be normalized.&lt;/li&gt;
&lt;li&gt;&lt;code&gt;qc_idx&lt;/code&gt; (numpy array of bool): Boolean array indicating whether a sample is a quality control sample. It&amp;rsquo;s length should be the same as the length of array.&lt;/li&gt;
&lt;li&gt;&lt;code&gt;frac&lt;/code&gt; (float): The fraction of the data used when estimating each y-value (used in lowess).&lt;/li&gt;
&lt;li&gt;&lt;code&gt;it&lt;/code&gt; (int): The number of residual-based reweightings to perform (used in lowess).&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;strong&gt;Returns:&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&amp;lsquo;dict&amp;rsquo;: A dictionary containing the lowess model, the fit curve, and the normalized array: {&amp;lsquo;model&amp;rsquo;: model, &amp;lsquo;fit_curve&amp;rsquo;: y, &amp;rsquo;normed_arr&amp;rsquo;: int_arr_corr}&lt;/li&gt;
&lt;/ul&gt;

      </description>
    </item>
    
    <item>
      <title>params</title>
      <link>https://example.org/docs/api/params/</link>
      <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
      
      <guid>https://example.org/docs/api/params/</guid>
      <description>
        
        
        &lt;h2&gt;Overview&lt;span class=&#34;absolute -mt-20&#34; id=&#34;overview&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#overview&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h2&gt;&lt;p&gt;The &lt;code&gt;params&lt;/code&gt; module defines a class &lt;code&gt;Params&lt;/code&gt; to store and manage parameters for mass spectrometry data processing. The class provides methods to read parameters from a CSV file, set default parameters based on the type of mass spectrometer and ionization mode, check the validity of parameters, and output parameters to a file. The module also includes a function &lt;code&gt;find_ms_info&lt;/code&gt; to determine the type of mass spectrometer and ionization mode from a raw file.&lt;/p&gt;
&lt;h2&gt;Classes&lt;span class=&#34;absolute -mt-20&#34; id=&#34;classes&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#classes&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h2&gt;&lt;h3&gt;&lt;code&gt;Params&lt;/code&gt;&lt;span class=&#34;absolute -mt-20&#34; id=&#34;params&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#params&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h3&gt;&lt;p&gt;A class to store and manage parameters for mass spectrometry data processing.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Attributes:&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;sample_names&lt;/code&gt; (list): Sample names without extension.&lt;/li&gt;
&lt;li&gt;&lt;code&gt;sample_abs_paths&lt;/code&gt; (list): Absolute paths of the raw MS data.&lt;/li&gt;
&lt;li&gt;&lt;code&gt;sample_metadata&lt;/code&gt; (DataFrame): Sample metadata.&lt;/li&gt;
&lt;li&gt;&lt;code&gt;project_dir&lt;/code&gt; (str): Project directory.&lt;/li&gt;
&lt;li&gt;&lt;code&gt;sample_dir&lt;/code&gt; (str): Directory for the raw MS data.&lt;/li&gt;
&lt;li&gt;&lt;code&gt;single_file_dir&lt;/code&gt; (str): Directory for the single file output.&lt;/li&gt;
&lt;li&gt;&lt;code&gt;tmp_file_dir&lt;/code&gt; (str): Directory for the intermediate file output.&lt;/li&gt;
&lt;li&gt;&lt;code&gt;ms2_matching_dir&lt;/code&gt; (str): Directory for the MS2 matching output.&lt;/li&gt;
&lt;li&gt;&lt;code&gt;bpc_dir&lt;/code&gt; (str): Directory for the base peak chromatogram output.&lt;/li&gt;
&lt;li&gt;&lt;code&gt;project_file_dir&lt;/code&gt; (str): Directory for the project files.&lt;/li&gt;
&lt;li&gt;&lt;code&gt;normalization_dir&lt;/code&gt; (str): Directory for the normalization output.&lt;/li&gt;
&lt;li&gt;&lt;code&gt;statistics_dir&lt;/code&gt; (str): Directory for the statistical analysis output.&lt;/li&gt;
&lt;li&gt;&lt;code&gt;problematic_files&lt;/code&gt; (dict): Problematic files.&lt;/li&gt;
&lt;li&gt;&lt;code&gt;file_name&lt;/code&gt; (str): File name of the raw data.&lt;/li&gt;
&lt;li&gt;&lt;code&gt;file_path&lt;/code&gt; (str): Absolute path of the raw data.&lt;/li&gt;
&lt;li&gt;&lt;code&gt;ion_mode&lt;/code&gt; (str): MS ion mode.&lt;/li&gt;
&lt;li&gt;&lt;code&gt;ms_type&lt;/code&gt; (str): Type of MS.&lt;/li&gt;
&lt;li&gt;&lt;code&gt;is_centroid&lt;/code&gt; (bool): Whether the raw data is centroid data.&lt;/li&gt;
&lt;li&gt;&lt;code&gt;file_format&lt;/code&gt; (str): File type in lower case.&lt;/li&gt;
&lt;li&gt;&lt;code&gt;time&lt;/code&gt; (datetime): When the data file was acquired.&lt;/li&gt;
&lt;li&gt;&lt;code&gt;scan_time_unit&lt;/code&gt; (str): Time unit of the scan time.&lt;/li&gt;
&lt;li&gt;&lt;code&gt;mz_lower_limit&lt;/code&gt; (float): Lower limit of m/z in Da.&lt;/li&gt;
&lt;li&gt;&lt;code&gt;mz_upper_limit&lt;/code&gt; (float): Upper limit of m/z in Da.&lt;/li&gt;
&lt;li&gt;&lt;code&gt;rt_lower_limit&lt;/code&gt; (float): Lower limit of RT in minutes.&lt;/li&gt;
&lt;li&gt;&lt;code&gt;rt_upper_limit&lt;/code&gt; (float): Upper limit of RT in minutes.&lt;/li&gt;
&lt;li&gt;&lt;code&gt;scan_levels&lt;/code&gt; (list): Scan levels to be read.&lt;/li&gt;
&lt;li&gt;&lt;code&gt;centroid_mz_tol&lt;/code&gt; (float): m/z tolerance for centroiding.&lt;/li&gt;
&lt;li&gt;&lt;code&gt;ms1_abs_int_tol&lt;/code&gt; (float): Absolute intensity threshold for MS1.&lt;/li&gt;
&lt;li&gt;&lt;code&gt;ms2_abs_int_tol&lt;/code&gt; (float): Absolute intensity threshold for MS2.&lt;/li&gt;
&lt;li&gt;&lt;code&gt;ms2_rel_int_tol&lt;/code&gt; (float): Relative intensity threshold to base peak for MS2.&lt;/li&gt;
&lt;li&gt;&lt;code&gt;precursor_mz_offset&lt;/code&gt; (float): Offset for MS2 m/z range in Da.&lt;/li&gt;
&lt;li&gt;&lt;code&gt;mz_tol_ms1&lt;/code&gt; (float): m/z tolerance for MS1.&lt;/li&gt;
&lt;li&gt;&lt;code&gt;mz_tol_ms2&lt;/code&gt; (float): m/z tolerance for MS2.&lt;/li&gt;
&lt;li&gt;&lt;code&gt;feature_gap_tol&lt;/code&gt; (int): Gap tolerance within a feature.&lt;/li&gt;
&lt;li&gt;&lt;code&gt;batch_size&lt;/code&gt; (int): Batch size for parallel processing.&lt;/li&gt;
&lt;li&gt;&lt;code&gt;percent_cpu_to_use&lt;/code&gt; (float): Percentage of CPU to use.&lt;/li&gt;
&lt;li&gt;&lt;code&gt;group_features_single_file&lt;/code&gt; (bool): Whether to group features in a single file.&lt;/li&gt;
&lt;li&gt;&lt;code&gt;scan_scan_cor_tol&lt;/code&gt; (float): Scan-to-scan correlation tolerance for feature grouping.&lt;/li&gt;
&lt;li&gt;&lt;code&gt;mz_tol_feature_grouping&lt;/code&gt; (float): m/z tolerance for feature grouping.&lt;/li&gt;
&lt;li&gt;&lt;code&gt;rt_tol_feature_grouping&lt;/code&gt; (float): RT tolerance for feature grouping.&lt;/li&gt;
&lt;li&gt;&lt;code&gt;valid_charge_states&lt;/code&gt; (list): Valid charge states for feature grouping.&lt;/li&gt;
&lt;li&gt;&lt;code&gt;mz_tol_alignment&lt;/code&gt; (float): m/z tolerance for alignment.&lt;/li&gt;
&lt;li&gt;&lt;code&gt;rt_tol_alignment&lt;/code&gt; (float): RT tolerance for alignment.&lt;/li&gt;
&lt;li&gt;&lt;code&gt;correct_rt&lt;/code&gt; (bool): Whether to perform RT correction.&lt;/li&gt;
&lt;li&gt;&lt;code&gt;scan_number_cutoff&lt;/code&gt; (int): Feature with non-zero scan number greater than the cutoff will be aligned.&lt;/li&gt;
&lt;li&gt;&lt;code&gt;detection_rate_cutoff&lt;/code&gt; (float): Features detected need to be &amp;gt;rate*(qc+sample).&lt;/li&gt;
&lt;li&gt;&lt;code&gt;merge_features&lt;/code&gt; (bool): Whether to merge features with almost the same m/z and RT.&lt;/li&gt;
&lt;li&gt;&lt;code&gt;mz_tol_merge_features&lt;/code&gt; (float): m/z tolerance for merging features.&lt;/li&gt;
&lt;li&gt;&lt;code&gt;rt_tol_merge_features&lt;/code&gt; (float): RT tolerance for merging features.&lt;/li&gt;
&lt;li&gt;&lt;code&gt;group_features_after_alignment&lt;/code&gt; (bool): Whether to group features after alignment.&lt;/li&gt;
&lt;li&gt;&lt;code&gt;fill_gaps&lt;/code&gt; (bool): Whether to fill the gaps in the aligned features.&lt;/li&gt;
&lt;li&gt;&lt;code&gt;gap_filling_method&lt;/code&gt; (str): Method for gap filling.&lt;/li&gt;
&lt;li&gt;&lt;code&gt;gap_filling_rt_window&lt;/code&gt; (float): RT window for finding local maximum.&lt;/li&gt;
&lt;li&gt;&lt;code&gt;ms2_library_path&lt;/code&gt; (str): Path to the MS2 library.&lt;/li&gt;
&lt;li&gt;&lt;code&gt;ms2_sim_tol&lt;/code&gt; (float): MS2 similarity tolerance.&lt;/li&gt;
&lt;li&gt;&lt;code&gt;fuzzy_search&lt;/code&gt; (bool): Whether to perform fuzzy search.&lt;/li&gt;
&lt;li&gt;&lt;code&gt;sample_normalization&lt;/code&gt; (bool): Whether to normalize the data based on total sample amount/concentration.&lt;/li&gt;
&lt;li&gt;&lt;code&gt;sample_norm_method&lt;/code&gt; (str): Sample normalization method.&lt;/li&gt;
&lt;li&gt;&lt;code&gt;signal_normalization&lt;/code&gt; (bool): Whether to run feature-wised normalization to correct systematic signal drift.&lt;/li&gt;
&lt;li&gt;&lt;code&gt;signal_norm_method&lt;/code&gt; (str): Normalization method for signal drift.&lt;/li&gt;
&lt;li&gt;&lt;code&gt;run_statistics&lt;/code&gt; (bool): Whether to perform statistical analysis.&lt;/li&gt;
&lt;li&gt;&lt;code&gt;plot_bpc&lt;/code&gt; (bool): Whether to plot base peak chromatograms.&lt;/li&gt;
&lt;li&gt;&lt;code&gt;plot_ms2&lt;/code&gt; (bool): Whether to plot mirror plots for MS2 matching.&lt;/li&gt;
&lt;li&gt;&lt;code&gt;plot_normalization&lt;/code&gt; (bool): Whether to plot the normalization results.&lt;/li&gt;
&lt;li&gt;&lt;code&gt;by_group_name&lt;/code&gt; (str): Group name for classifier building.&lt;/li&gt;
&lt;li&gt;&lt;code&gt;output_single_file&lt;/code&gt; (bool): Whether to output the processed individual files to a csv file.&lt;/li&gt;
&lt;li&gt;&lt;code&gt;output_ms1_scans&lt;/code&gt; (bool): Whether to output all MS1 scans to a pickle file for faster data reloading.&lt;/li&gt;
&lt;li&gt;&lt;code&gt;output_aligned_file&lt;/code&gt; (bool): Whether to output aligned features to a csv file.&lt;/li&gt;
&lt;li&gt;&lt;code&gt;quant_method&lt;/code&gt; (str): Value for quantification and output.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;strong&gt;Methods:&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;read_parameters_from_csv(path)&lt;/code&gt;: Read parameters from a CSV file.&lt;/li&gt;
&lt;li&gt;&lt;code&gt;read_sample_metadata(path)&lt;/code&gt;: Read sample metadata from a CSV file.&lt;/li&gt;
&lt;li&gt;&lt;code&gt;_untargeted_metabolomics_workflow_preparation()&lt;/code&gt;: Prepare the parameters for the untargeted metabolomics workflow.&lt;/li&gt;
&lt;li&gt;&lt;code&gt;set_default(ms_type, ion_mode)&lt;/code&gt;: Set the parameters by the type of MS.&lt;/li&gt;
&lt;li&gt;&lt;code&gt;check_parameters()&lt;/code&gt;: Check if the parameters are correct using &lt;code&gt;PARAMETER_RAGES&lt;/code&gt;.&lt;/li&gt;
&lt;li&gt;&lt;code&gt;output_parameters(path, format=&amp;quot;json&amp;quot;)&lt;/code&gt;: Output the parameters to a file.&lt;/li&gt;
&lt;/ul&gt;
&lt;h2&gt;Functions&lt;span class=&#34;absolute -mt-20&#34; id=&#34;functions&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#functions&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h2&gt;&lt;h3&gt;find_ms_info&lt;span class=&#34;absolute -mt-20&#34; id=&#34;find_ms_info&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#find_ms_info&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h3&gt;&lt;p&gt;&lt;code&gt;find_ms_info(file_name)&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;Find the type of mass spectrometer and ionization mode from the raw file.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Parameters:&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;file_name&lt;/code&gt; (str): The file name of the raw file.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;strong&gt;Returns:&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;ms_type&lt;/code&gt; (str): The type of MS, &amp;ldquo;orbitrap&amp;rdquo;, &amp;ldquo;qtof&amp;rdquo;, &amp;ldquo;tripletof&amp;rdquo; or &amp;ldquo;others&amp;rdquo;.&lt;/li&gt;
&lt;li&gt;&lt;code&gt;ion_mode&lt;/code&gt; (str): The ion mode, &amp;ldquo;positive&amp;rdquo; or &amp;ldquo;negative&amp;rdquo;.&lt;/li&gt;
&lt;li&gt;&lt;code&gt;centroid&lt;/code&gt; (bool): Whether the data is centroid data.&lt;/li&gt;
&lt;/ul&gt;
&lt;h2&gt;Constants&lt;span class=&#34;absolute -mt-20&#34; id=&#34;constants&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#constants&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h2&gt;&lt;h3&gt;valid parameter ranges&lt;span class=&#34;absolute -mt-20&#34; id=&#34;valid-parameter-ranges&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#valid-parameter-ranges&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h3&gt;&lt;p&gt;&lt;code&gt;PARAMETER_RAGES&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;A dictionary of valid parameter ranges.&lt;/p&gt;
&lt;div class=&#34;code-block relative mt-6 first:mt-0 group/code&#34;&gt;&lt;div&gt;&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt; 1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 2
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 3
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 4
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 5
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 6
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 7
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 8
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 9
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;10
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;11
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;12
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;13
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;14
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;15
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;16
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;17
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;18
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;19
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;20
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;21
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;22
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-python&#34; data-lang=&#34;python&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;n&#34;&gt;PARAMETER_RAGES&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;s2&#34;&gt;&amp;#34;mz_lower_limit&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;mf&#34;&gt;0.0&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;mf&#34;&gt;100000.0&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;),&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;s2&#34;&gt;&amp;#34;mz_upper_limit&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;mf&#34;&gt;0.0&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;mf&#34;&gt;100000.0&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;),&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;s2&#34;&gt;&amp;#34;rt_lower_limit&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;mf&#34;&gt;0.0&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;mf&#34;&gt;10000.0&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;),&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;s2&#34;&gt;&amp;#34;rt_upper_limit&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;mf&#34;&gt;0.0&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;mf&#34;&gt;10000.0&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;),&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;s2&#34;&gt;&amp;#34;centroid_mz_tol&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;mf&#34;&gt;0.0&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;mf&#34;&gt;0.1&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;),&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;s2&#34;&gt;&amp;#34;ms1_abs_int_tol&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;0&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;mf&#34;&gt;1e10&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;),&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;s2&#34;&gt;&amp;#34;ms2_abs_int_tol&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;0&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;mf&#34;&gt;1e10&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;),&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;s2&#34;&gt;&amp;#34;ms2_rel_int_tol&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;mf&#34;&gt;0.0&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;mf&#34;&gt;1.0&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;),&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;s2&#34;&gt;&amp;#34;precursor_mz_offset&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;mf&#34;&gt;0.0&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;mf&#34;&gt;100000.0&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;),&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;s2&#34;&gt;&amp;#34;mz_tol_ms1&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;mf&#34;&gt;0.0&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;mf&#34;&gt;0.02&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;),&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;s2&#34;&gt;&amp;#34;mz_tol_ms2&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;mf&#34;&gt;0.0&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;mf&#34;&gt;0.02&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;),&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;s2&#34;&gt;&amp;#34;feature_gap_tol&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;0&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;100&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;),&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;s2&#34;&gt;&amp;#34;scan_scan_cor_tol&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;mf&#34;&gt;0.0&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;mf&#34;&gt;1.0&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;),&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;s2&#34;&gt;&amp;#34;mz_tol_alignment&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;mf&#34;&gt;0.0&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;mf&#34;&gt;0.02&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;),&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;s2&#34;&gt;&amp;#34;rt_tol_alignment&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;mf&#34;&gt;0.0&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;mf&#34;&gt;2.0&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;),&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;s2&#34;&gt;&amp;#34;scan_number_cutoff&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;0&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;100&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;),&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;s2&#34;&gt;&amp;#34;detection_rate_cutoff&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;mf&#34;&gt;0.0&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;mf&#34;&gt;1.0&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;),&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;s2&#34;&gt;&amp;#34;mz_tol_merge_features&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;mf&#34;&gt;0.0&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;mf&#34;&gt;0.02&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;),&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;s2&#34;&gt;&amp;#34;rt_tol_merge_features&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;mf&#34;&gt;0.0&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;mf&#34;&gt;0.5&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;),&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;s2&#34;&gt;&amp;#34;ms2_sim_tol&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;mf&#34;&gt;0.0&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;mf&#34;&gt;1.0&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;/div&gt;&lt;div class=&#34;opacity-0 transition group-hover/code:opacity-100 flex gap-1 absolute m-[11px] right-0 top-0&#34;&gt;
    &lt;button
      class=&#34;code-copy-btn group/copybtn transition-all active:opacity-50 bg-primary-700/5 border border-black/5 text-gray-600 hover:text-gray-900 rounded-md p-1.5 dark:bg-primary-300/10 dark:border-white/10 dark:text-gray-400 dark:hover:text-gray-50&#34;
      title=&#34;Copy code&#34;
    &gt;
      &lt;div class=&#34;group-[.copied]/copybtn:hidden copy-icon pointer-events-none h-4 w-4&#34;&gt;&lt;/div&gt;
      &lt;div class=&#34;hidden group-[.copied]/copybtn:block success-icon pointer-events-none h-4 w-4&#34;&gt;&lt;/div&gt;
    &lt;/button&gt;
  &lt;/div&gt;
&lt;/div&gt;
&lt;h3&gt;default parameters&lt;span class=&#34;absolute -mt-20&#34; id=&#34;default-parameters&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#default-parameters&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h3&gt;&lt;p&gt;&lt;code&gt;PARAMETER_DEFAULT&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;A dictionary of default parameters.&lt;/p&gt;
&lt;div class=&#34;code-block relative mt-6 first:mt-0 group/code&#34;&gt;&lt;div&gt;&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt; 1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 2
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 3
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 4
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 5
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 6
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 7
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 8
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 9
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;10
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;11
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;12
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;13
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;14
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;15
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;16
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;17
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;18
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;19
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;20
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;21
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;22
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-python&#34; data-lang=&#34;python&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;n&#34;&gt;PARAMETER_DEFAULT&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;s2&#34;&gt;&amp;#34;mz_lower_limit&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;mf&#34;&gt;0.0&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;s2&#34;&gt;&amp;#34;mz_upper_limit&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;mf&#34;&gt;100000.0&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;s2&#34;&gt;&amp;#34;rt_lower_limit&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;mf&#34;&gt;0.0&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;s2&#34;&gt;&amp;#34;rt_upper_limit&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;mf&#34;&gt;10000.0&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;s2&#34;&gt;&amp;#34;centroid_mz_tol&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;mf&#34;&gt;0.005&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;s2&#34;&gt;&amp;#34;ms1_abs_int_tol&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;mf&#34;&gt;1000.0&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;s2&#34;&gt;&amp;#34;ms2_abs_int_tol&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;500&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;s2&#34;&gt;&amp;#34;ms2_rel_int_tol&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;mf&#34;&gt;0.01&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;s2&#34;&gt;&amp;#34;precursor_mz_offset&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;mf&#34;&gt;2.0&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;s2&#34;&gt;&amp;#34;mz_tol_ms1&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;mf&#34;&gt;0.01&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;s2&#34;&gt;&amp;#34;mz_tol_ms2&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;mf&#34;&gt;0.015&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;s2&#34;&gt;&amp;#34;feature_gap_tol&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;30&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;s2&#34;&gt;&amp;#34;scan_scan_cor_tol&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;mf&#34;&gt;0.7&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;s2&#34;&gt;&amp;#34;mz_tol_alignment&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;mf&#34;&gt;0.01&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;s2&#34;&gt;&amp;#34;rt_tol_alignment&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;mf&#34;&gt;0.2&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;s2&#34;&gt;&amp;#34;scan_number_cutoff&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;5&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;s2&#34;&gt;&amp;#34;detection_rate_cutoff&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;mf&#34;&gt;0.1&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;s2&#34;&gt;&amp;#34;mz_tol_merge_features&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;mf&#34;&gt;0.01&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;s2&#34;&gt;&amp;#34;rt_tol_merge_features&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;mf&#34;&gt;0.05&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;s2&#34;&gt;&amp;#34;ms2_sim_tol&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;mf&#34;&gt;0.7&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;/div&gt;&lt;div class=&#34;opacity-0 transition group-hover/code:opacity-100 flex gap-1 absolute m-[11px] right-0 top-0&#34;&gt;
    &lt;button
      class=&#34;code-copy-btn group/copybtn transition-all active:opacity-50 bg-primary-700/5 border border-black/5 text-gray-600 hover:text-gray-900 rounded-md p-1.5 dark:bg-primary-300/10 dark:border-white/10 dark:text-gray-400 dark:hover:text-gray-50&#34;
      title=&#34;Copy code&#34;
    &gt;
      &lt;div class=&#34;group-[.copied]/copybtn:hidden copy-icon pointer-events-none h-4 w-4&#34;&gt;&lt;/div&gt;
      &lt;div class=&#34;hidden group-[.copied]/copybtn:block success-icon pointer-events-none h-4 w-4&#34;&gt;&lt;/div&gt;
    &lt;/button&gt;
  &lt;/div&gt;
&lt;/div&gt;

      </description>
    </item>
    
    <item>
      <title>raw_data_utils</title>
      <link>https://example.org/docs/api/raw_data_utils/</link>
      <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
      
      <guid>https://example.org/docs/api/raw_data_utils/</guid>
      <description>
        
        
        &lt;h2&gt;Overview&lt;span class=&#34;absolute -mt-20&#34; id=&#34;overview&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#overview&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h2&gt;&lt;p&gt;The &lt;code&gt;raw_data_utils&lt;/code&gt; module provides classes and functions for reading and processing raw mass spectrometry (MS) data files. The module supports reading mzML, mzXML, mzjson, and compressed mzjson files. The main class in this module is &lt;code&gt;MSData&lt;/code&gt;, which models a single MS file and processes the raw data. The module also includes helper functions for cleaning MS/MS spectra, centroiding m/z and intensity sequences, and extracting EIC data.&lt;/p&gt;
&lt;h2&gt;Classes&lt;span class=&#34;absolute -mt-20&#34; id=&#34;classes&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#classes&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h2&gt;&lt;h3&gt;&lt;code&gt;MSData&lt;/code&gt;&lt;span class=&#34;absolute -mt-20&#34; id=&#34;msdata&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#msdata&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h3&gt;&lt;p&gt;A class that models a single raw MS data file and processes the raw data.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Attributes:&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;scans&lt;/code&gt; (list): A list of &lt;code&gt;Scan&lt;/code&gt; objects for mass spectra.&lt;/li&gt;
&lt;li&gt;&lt;code&gt;ms1_idx&lt;/code&gt; (list): Scan indexes of MS1 spectra.&lt;/li&gt;
&lt;li&gt;&lt;code&gt;ms1_time_arr&lt;/code&gt; (list): Time of MS1 scans.&lt;/li&gt;
&lt;li&gt;&lt;code&gt;ms2_idx&lt;/code&gt; (list): Scan indexes of MS2 spectra.&lt;/li&gt;
&lt;li&gt;&lt;code&gt;params&lt;/code&gt; (Params object): A &lt;code&gt;Params&lt;/code&gt; object that contains all parameters.&lt;/li&gt;
&lt;li&gt;&lt;code&gt;base_peak_arr&lt;/code&gt; (list): Base peak chromatogram, &lt;code&gt;[[m/z, intensity], ...]&lt;/code&gt;.&lt;/li&gt;
&lt;li&gt;&lt;code&gt;features&lt;/code&gt; (list): A list of features.&lt;/li&gt;
&lt;li&gt;&lt;code&gt;feature_mz_arr&lt;/code&gt; (numpy array): m/z of all ROIs.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;strong&gt;Methods:&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;read_raw_data(self, file_name, params=None, scan_levels=[1,2], centroid_mz_tol=0.005, ms1_abs_int_tol=None, ms2_abs_int_tol=None, ms2_rel_int_tol=0.01, precursor_mz_offset=2)&lt;/code&gt;: Reads raw data from an MS file.&lt;/li&gt;
&lt;li&gt;&lt;code&gt;extract_scan_mzml(self, scans)&lt;/code&gt;: Extracts all scans from an mzML file.&lt;/li&gt;
&lt;li&gt;&lt;code&gt;extract_scan_mzxml(self, scans)&lt;/code&gt;: Extracts all scans from an mzXML file.&lt;/li&gt;
&lt;li&gt;&lt;code&gt;drop_ms1_ions_by_intensity(self, int_tol)&lt;/code&gt;: Drops ions in all MS1 scans by intensity threshold.&lt;/li&gt;
&lt;li&gt;&lt;code&gt;detect_features(self)&lt;/code&gt;: Runs feature detection.&lt;/li&gt;
&lt;li&gt;&lt;code&gt;segment_features(self, iteration=2)&lt;/code&gt;: Segments features by edge detection.&lt;/li&gt;
&lt;li&gt;&lt;code&gt;summarize_features(self, cal_g_score=True, cal_a_score=True)&lt;/code&gt;: Processes features to calculate summary statistics.&lt;/li&gt;
&lt;li&gt;&lt;code&gt;allocate_ms2_to_features(self, mz_tol=0.015)&lt;/code&gt;: Allocates MS2 scans to ROIs.&lt;/li&gt;
&lt;li&gt;&lt;code&gt;drop_features_without_ms2(self)&lt;/code&gt;: Drops features without MS2 scans.&lt;/li&gt;
&lt;li&gt;&lt;code&gt;drop_features_by_length(self, length=5)&lt;/code&gt;: Drops features by length.&lt;/li&gt;
&lt;li&gt;&lt;code&gt;drop_isotope_features(self)&lt;/code&gt;: Drops features annotated as isotopes.&lt;/li&gt;
&lt;li&gt;&lt;code&gt;drop_in_source_fragment_features(self)&lt;/code&gt;: Discards in-source fragments.&lt;/li&gt;
&lt;li&gt;&lt;code&gt;plot_bpc(self, time_range=None, label_name=True, output_dir=None)&lt;/code&gt;: Plots the base peak chromatogram.&lt;/li&gt;
&lt;li&gt;&lt;code&gt;output_single_file(self, output_path=None)&lt;/code&gt;: Generates a report for features in csv format.&lt;/li&gt;
&lt;li&gt;&lt;code&gt;get_eic_data(self, target_mz, target_rt=None, mz_tol=0.005, rt_tol=0.3, rt_range=None)&lt;/code&gt;: Gets the EIC data of a target m/z.&lt;/li&gt;
&lt;li&gt;&lt;code&gt;plot_eics(self, target_mz_arr, target_rt=None, mz_tol=0.005, rt_tol=0.3, rt_range=None, output_file_name=None, show_target_rt=True, ylim: list=None, return_eic_data=False)&lt;/code&gt;: Plots multiple EICs in a single plot.&lt;/li&gt;
&lt;li&gt;&lt;code&gt;find_ms2_by_mzrt(self, mz_target, rt_target, mz_tol=0.01, rt_tol=0.3, return_best=False)&lt;/code&gt;: Finds MS2 scan by precursor m/z and retention time.&lt;/li&gt;
&lt;li&gt;&lt;code&gt;find_feature_by_mzrt(self, mz_target, rt_target=None, mz_tol=0.01, rt_tol=0.3)&lt;/code&gt;: Finds feature by precursor m/z and retention time.&lt;/li&gt;
&lt;li&gt;&lt;code&gt;find_ms1_scan_by_rt(self, rt_target)&lt;/code&gt;: Finds the nearest n MS1 scan by retention time.&lt;/li&gt;
&lt;li&gt;&lt;code&gt;correct_retention_time(self, f)&lt;/code&gt;: Corrects retention time.&lt;/li&gt;
&lt;li&gt;&lt;code&gt;plot_feature(self, feature_idx, mz_tol=0.005, rt_range=[0, np.inf], rt_window=None, output=False)&lt;/code&gt;: Plots EIC of a ROI.&lt;/li&gt;
&lt;/ul&gt;
&lt;h3&gt;&lt;code&gt;Scan&lt;/code&gt;&lt;span class=&#34;absolute -mt-20&#34; id=&#34;scan&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#scan&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h3&gt;&lt;p&gt;A class that models a single mass spectrum scan.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Attributes:&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;level&lt;/code&gt; (int): Level of mass spectrum.&lt;/li&gt;
&lt;li&gt;&lt;code&gt;id&lt;/code&gt; (int): Scan ID.&lt;/li&gt;
&lt;li&gt;&lt;code&gt;scan_time&lt;/code&gt; (float): Scan time.&lt;/li&gt;
&lt;li&gt;&lt;code&gt;signals&lt;/code&gt; (numpy array): m/z and intensity signals.&lt;/li&gt;
&lt;li&gt;&lt;code&gt;precursor_mz&lt;/code&gt; (float): Precursor m/z.&lt;/li&gt;
&lt;/ul&gt;
&lt;h2&gt;Functions&lt;span class=&#34;absolute -mt-20&#34; id=&#34;functions&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#functions&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h2&gt;&lt;h3&gt;clean_signals&lt;span class=&#34;absolute -mt-20&#34; id=&#34;clean_signals&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#clean_signals&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h3&gt;&lt;p&gt;&lt;code&gt;clean_signals(signals, mz_range=None, intensity_range=None)&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;Cleans signals by removing ions outside specified m/z and intensity ranges.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Parameters:&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;signals&lt;/code&gt; (numpy array): m/z and intensity signals.&lt;/li&gt;
&lt;li&gt;&lt;code&gt;mz_range&lt;/code&gt; (list): m/z range [start, end].&lt;/li&gt;
&lt;li&gt;&lt;code&gt;intensity_range&lt;/code&gt; (list): Intensity range [min, max].&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;strong&gt;Returns:&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;cleaned_signals&lt;/code&gt; (numpy array): Cleaned m/z and intensity signals.&lt;/li&gt;
&lt;/ul&gt;
&lt;h3&gt;centroid_signals&lt;span class=&#34;absolute -mt-20&#34; id=&#34;centroid_signals&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#centroid_signals&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h3&gt;&lt;p&gt;&lt;code&gt;centroid_signals(signals, mz_tol)&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;Centroids m/z and intensity signals.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Parameters:&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;signals&lt;/code&gt; (numpy array): m/z and intensity signals.&lt;/li&gt;
&lt;li&gt;&lt;code&gt;mz_tol&lt;/code&gt; (float): m/z tolerance.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;strong&gt;Returns:&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;centroided_signals&lt;/code&gt; (numpy array): Centroided m/z and intensity signals.&lt;/li&gt;
&lt;/ul&gt;
&lt;h3&gt;segment_feature&lt;span class=&#34;absolute -mt-20&#34; id=&#34;segment_feature&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#segment_feature&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h3&gt;&lt;p&gt;&lt;code&gt;segment_feature(feature, peak_height_tol, distance)&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;Segments a feature by edge detection.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Parameters:&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;feature&lt;/code&gt; (Feature object): A feature.&lt;/li&gt;
&lt;li&gt;&lt;code&gt;peak_height_tol&lt;/code&gt; (int): Peak height tolerance.&lt;/li&gt;
&lt;li&gt;&lt;code&gt;distance&lt;/code&gt; (int): Distance.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;strong&gt;Returns:&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;segmented_features&lt;/code&gt; (list): Segmented features.&lt;/li&gt;
&lt;/ul&gt;
&lt;h3&gt;detect_features&lt;span class=&#34;absolute -mt-20&#34; id=&#34;detect_features&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#detect_features&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h3&gt;&lt;p&gt;&lt;code&gt;detect_features(ms_data)&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;Detects features in MS data.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Parameters:&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;ms_data&lt;/code&gt; (MSData object): An MSData object.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;strong&gt;Returns:&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;features&lt;/code&gt; (list): Detected features.&lt;/li&gt;
&lt;/ul&gt;
&lt;h3&gt;find_best_ms2&lt;span class=&#34;absolute -mt-20&#34; id=&#34;find_best_ms2&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#find_best_ms2&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h3&gt;&lt;p&gt;&lt;code&gt;find_best_ms2(ms2_seq)&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;Finds the best MS2 scan with the highest total intensity.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Parameters:&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;ms2_seq&lt;/code&gt; (list): A list of MS2 scans.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;strong&gt;Returns:&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;best_ms2&lt;/code&gt; (Scan object): The best MS2 scan.&lt;/li&gt;
&lt;/ul&gt;

      </description>
    </item>
    
    <item>
      <title>stats</title>
      <link>https://example.org/docs/api/stats/</link>
      <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
      
      <guid>https://example.org/docs/api/stats/</guid>
      <description>
        
        
        &lt;p&gt;Documentation is under construction. Please check our source code directly for the latest updates.&lt;/p&gt;

      </description>
    </item>
    
    <item>
      <title>utils_functions</title>
      <link>https://example.org/docs/api/utils_functions/</link>
      <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
      
      <guid>https://example.org/docs/api/utils_functions/</guid>
      <description>
        
        
        &lt;h2&gt;Overview&lt;span class=&#34;absolute -mt-20&#34; id=&#34;overview&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#overview&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h2&gt;&lt;p&gt;The &lt;code&gt;utils_functions&lt;/code&gt; module contains utility functions that are commonly used in the data processing and analysis of mass spectrometry data. The module includes functions for generating a sample table, getting timestamps for individual files, converting chemical formulas to m/z values, extracting signals from MS2 spectrum in string format, and converting signals to string format.&lt;/p&gt;
&lt;h2&gt;Functions&lt;span class=&#34;absolute -mt-20&#34; id=&#34;functions&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#functions&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h2&gt;&lt;h3&gt;generate_sample_table&lt;span class=&#34;absolute -mt-20&#34; id=&#34;generate_sample_table&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#generate_sample_table&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h3&gt;&lt;p&gt;&lt;code&gt;generate_sample_table(path=None, output=True)&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;Generate a sample table from the mzML or mzXML files in the specified path. The stucture of the path should be:&lt;/p&gt;
&lt;div class=&#34;code-block relative mt-6 first:mt-0 group/code&#34;&gt;&lt;pre&gt;&lt;code&gt;path
├── data
│   ├── sample1.mzml
│   ├── sample2.mzml
│   └── ...
└── ...&lt;/code&gt;&lt;/pre&gt;&lt;div class=&#34;opacity-0 transition group-hover/code:opacity-100 flex gap-1 absolute m-[11px] right-0 top-0&#34;&gt;
    &lt;button
      class=&#34;code-copy-btn group/copybtn transition-all active:opacity-50 bg-primary-700/5 border border-black/5 text-gray-600 hover:text-gray-900 rounded-md p-1.5 dark:bg-primary-300/10 dark:border-white/10 dark:text-gray-400 dark:hover:text-gray-50&#34;
      title=&#34;Copy code&#34;
    &gt;
      &lt;div class=&#34;group-[.copied]/copybtn:hidden copy-icon pointer-events-none h-4 w-4&#34;&gt;&lt;/div&gt;
      &lt;div class=&#34;hidden group-[.copied]/copybtn:block success-icon pointer-events-none h-4 w-4&#34;&gt;&lt;/div&gt;
    &lt;/button&gt;
  &lt;/div&gt;
&lt;/div&gt;
&lt;p&gt;&lt;strong&gt;Parameters:&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;path&lt;/code&gt; : str
Path to the main directory that contains a subdirectory &amp;lsquo;data&amp;rsquo; with mzML or mzXML files.&lt;/li&gt;
&lt;li&gt;&lt;code&gt;output&lt;/code&gt; : bool
If True, output the sample table to a csv file.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;strong&gt;Return:&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;sample_table&lt;/code&gt; : pandas DataFrame
A DataFrame with two columns: &amp;lsquo;Sample&amp;rsquo; and &amp;lsquo;Groups&amp;rsquo;.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;strong&gt;Output:&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;sample_table.csv&lt;/code&gt; : csv file
A csv file with two columns: &amp;lsquo;Sample&amp;rsquo; and &amp;lsquo;Groups&amp;rsquo; in the specified path.&lt;/li&gt;
&lt;/ul&gt;
&lt;h3&gt;get_timestamps&lt;span class=&#34;absolute -mt-20&#34; id=&#34;get_timestamps&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#get_timestamps&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h3&gt;&lt;p&gt;&lt;code&gt;get_timestamps(path=None, output=True)&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;Get timestamps for individual files and sort the files by time. The stucture of the path should be:&lt;/p&gt;
&lt;div class=&#34;code-block relative mt-6 first:mt-0 group/code&#34;&gt;&lt;pre&gt;&lt;code&gt;path
├── data
│   ├── sample1.mzml
│   ├── sample2.mzml
│   └── ...
└── ...&lt;/code&gt;&lt;/pre&gt;&lt;div class=&#34;opacity-0 transition group-hover/code:opacity-100 flex gap-1 absolute m-[11px] right-0 top-0&#34;&gt;
    &lt;button
      class=&#34;code-copy-btn group/copybtn transition-all active:opacity-50 bg-primary-700/5 border border-black/5 text-gray-600 hover:text-gray-900 rounded-md p-1.5 dark:bg-primary-300/10 dark:border-white/10 dark:text-gray-400 dark:hover:text-gray-50&#34;
      title=&#34;Copy code&#34;
    &gt;
      &lt;div class=&#34;group-[.copied]/copybtn:hidden copy-icon pointer-events-none h-4 w-4&#34;&gt;&lt;/div&gt;
      &lt;div class=&#34;hidden group-[.copied]/copybtn:block success-icon pointer-events-none h-4 w-4&#34;&gt;&lt;/div&gt;
    &lt;/button&gt;
  &lt;/div&gt;
&lt;/div&gt;
&lt;p&gt;&lt;strong&gt;Parameters:&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;path&lt;/code&gt; : str
Path to the main directory that contains a subdirectory &amp;lsquo;data&amp;rsquo; with mzML or mzXML files.&lt;/li&gt;
&lt;li&gt;&lt;code&gt;output&lt;/code&gt; : bool
If True, output the timestamps to a txt file with two columns: &amp;lsquo;file_name&amp;rsquo; and &amp;lsquo;aquisition_time&amp;rsquo;.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;strong&gt;Return:&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;file_times&lt;/code&gt; : list
A list of tuples with two elements: &amp;lsquo;file_name&amp;rsquo; and &amp;lsquo;aquisition_time&amp;rsquo;.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;strong&gt;Output:&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;timestamps.txt&lt;/code&gt; : txt file
A txt file with two columns: &amp;lsquo;file_name&amp;rsquo; and &amp;lsquo;aquisition_time&amp;rsquo; in the specified path.&lt;/li&gt;
&lt;/ul&gt;
&lt;h3&gt;formula_to_mz&lt;span class=&#34;absolute -mt-20&#34; id=&#34;formula_to_mz&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#formula_to_mz&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h3&gt;&lt;p&gt;&lt;code&gt;formula_to_mz(formula, adduct, charge)&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;Calculate the m/z value of a molecule given its chemical formula, adduct and charge.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Parameters:&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;formula&lt;/code&gt; : str
Chemical formula of the molecule.&lt;/li&gt;
&lt;li&gt;&lt;code&gt;adduct&lt;/code&gt; : str
Adduct of the molecule. The first character should be &amp;lsquo;+&amp;rsquo; or &amp;lsquo;-&amp;rsquo;. In particular,
for adduct like [M-H-H2O]-, use &amp;lsquo;-H3O&amp;rsquo; or &amp;lsquo;-H2OH&amp;rsquo;.&lt;/li&gt;
&lt;li&gt;&lt;code&gt;charge&lt;/code&gt; : int
Charge of the molecule. Positive for cations and negative for anions.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;strong&gt;Returns:&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;mz&lt;/code&gt; : float
The m/z value of the molecule.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;strong&gt;Examples:&lt;/strong&gt;&lt;/p&gt;
&lt;div class=&#34;code-block relative mt-6 first:mt-0 group/code&#34;&gt;&lt;div&gt;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-python&#34; data-lang=&#34;python&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;n&#34;&gt;formula_to_mz&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;C6H12O6&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;#34;+H&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# 181.070665&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;n&#34;&gt;formula_to_mz&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;C9H14N3O8P&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;#34;-H2OH&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;-&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# 304.034010&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class=&#34;opacity-0 transition group-hover/code:opacity-100 flex gap-1 absolute m-[11px] right-0 top-0&#34;&gt;
    &lt;button
      class=&#34;code-copy-btn group/copybtn transition-all active:opacity-50 bg-primary-700/5 border border-black/5 text-gray-600 hover:text-gray-900 rounded-md p-1.5 dark:bg-primary-300/10 dark:border-white/10 dark:text-gray-400 dark:hover:text-gray-50&#34;
      title=&#34;Copy code&#34;
    &gt;
      &lt;div class=&#34;group-[.copied]/copybtn:hidden copy-icon pointer-events-none h-4 w-4&#34;&gt;&lt;/div&gt;
      &lt;div class=&#34;hidden group-[.copied]/copybtn:block success-icon pointer-events-none h-4 w-4&#34;&gt;&lt;/div&gt;
    &lt;/button&gt;
  &lt;/div&gt;
&lt;/div&gt;
&lt;h3&gt;get_start_time&lt;span class=&#34;absolute -mt-20&#34; id=&#34;get_start_time&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#get_start_time&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h3&gt;&lt;p&gt;&lt;code&gt;get_start_time(file_name)&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;Function to get the start time of the raw data.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Parameters:&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;file_name&lt;/code&gt; : str
Absolute path of the raw data.&lt;/li&gt;
&lt;/ul&gt;
&lt;h3&gt;extract_signals_from_string&lt;span class=&#34;absolute -mt-20&#34; id=&#34;extract_signals_from_string&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#extract_signals_from_string&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h3&gt;&lt;p&gt;&lt;code&gt;extract_signals_from_string(ms2)&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;Extract signals from MS2 spectrum in string format.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Parameters:&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;ms2&lt;/code&gt; : str
MS2 spectrum in string format. Format: &amp;ldquo;mz1;intensity1|mz2;intensity2|&amp;hellip;&amp;rdquo;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;strong&gt;Returns:&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;peaks&lt;/code&gt; : numpy.array
Peaks in numpy array format: [[mz1, intensity1], [mz2, intensity2], &amp;hellip;]&lt;/li&gt;
&lt;/ul&gt;
&lt;h3&gt;convert_signals_to_string&lt;span class=&#34;absolute -mt-20&#34; id=&#34;convert_signals_to_string&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#convert_signals_to_string&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h3&gt;&lt;p&gt;&lt;code&gt;convert_signals_to_string(signals)&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;Convert peaks to string format.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Parameters:&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;signals&lt;/code&gt; : numpy.array
MS2 signals organized as [[mz1, intensity1], [mz2, intensity2], &amp;hellip;]&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;strong&gt;Returns:&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;string&lt;/code&gt; : str
Converted signals in string format. Format: &amp;ldquo;mz1;intensity1|mz2;intensity2|&amp;hellip;&amp;rdquo;&lt;/li&gt;
&lt;/ul&gt;

      </description>
    </item>
    
    <item>
      <title>visualization</title>
      <link>https://example.org/docs/api/visualization/</link>
      <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
      
      <guid>https://example.org/docs/api/visualization/</guid>
      <description>
        
        
        &lt;p&gt;This documentation is under construction. Please check our source code directly for the latest updates.&lt;/p&gt;

      </description>
    </item>
    
    <item>
      <title>workflows</title>
      <link>https://example.org/docs/api/workflows/</link>
      <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
      
      <guid>https://example.org/docs/api/workflows/</guid>
      <description>
        
        
        &lt;h2&gt;Overview&lt;span class=&#34;absolute -mt-20&#34; id=&#34;overview&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#overview&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h2&gt;&lt;p&gt;This module provides premade data processing workflows for untargeted metabolomics analysis. The workflows include feature detection, alignment, annotation, normalization, and statistical analysis. The module also includes functions for batch file processing and evaluating the data quality of raw files.&lt;/p&gt;
&lt;h2&gt;Functions&lt;span class=&#34;absolute -mt-20&#34; id=&#34;functions&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#functions&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h2&gt;&lt;h3&gt;process_single_file&lt;span class=&#34;absolute -mt-20&#34; id=&#34;process_single_file&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#process_single_file&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h3&gt;&lt;p&gt;&lt;code&gt;process_single_file(file_name, params=None, segment_feature=True, group_features=False, evaluate_peak_shape=True, annotate_ms2=False, ms2_library_path=None, output_dir=None)&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;Performs untargeted feature detection for a single file.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Parameters:&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;file_name&lt;/code&gt; (str): Path to the raw file.&lt;/li&gt;
&lt;li&gt;&lt;code&gt;params&lt;/code&gt; (Params object, optional): Parameters for feature detection. If &lt;code&gt;None&lt;/code&gt;, the default parameters are used based on the type of mass spectrometer.&lt;/li&gt;
&lt;li&gt;&lt;code&gt;segment_feature&lt;/code&gt; (bool, default &lt;code&gt;True&lt;/code&gt;): Whether to segment the feature to peaks for distinguishing possible isomers.&lt;/li&gt;
&lt;li&gt;&lt;code&gt;group_features&lt;/code&gt; (bool, default &lt;code&gt;False&lt;/code&gt;): Whether to group features by isotopes, adducts, and in-source fragments.&lt;/li&gt;
&lt;li&gt;&lt;code&gt;evaluate_peak_shape&lt;/code&gt; (bool, default &lt;code&gt;True&lt;/code&gt;): Whether to evaluate the peak shape by calculating noise score and asymmetry factor.&lt;/li&gt;
&lt;li&gt;&lt;code&gt;annotate_ms2&lt;/code&gt; (bool, default &lt;code&gt;False&lt;/code&gt;): Whether to annotate MS2 spectra.&lt;/li&gt;
&lt;li&gt;&lt;code&gt;ms2_library_path&lt;/code&gt; (str, optional): Path to the MS2 library.&lt;/li&gt;
&lt;li&gt;&lt;code&gt;output_dir&lt;/code&gt; (str, optional): The output directory for the single file. If &lt;code&gt;None&lt;/code&gt;, the output is saved to the same directory as the raw file.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;strong&gt;Returns:&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;d&lt;/code&gt; (MSData object): An MSData object containing the processed data.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;strong&gt;Usage:&lt;/strong&gt;&lt;/p&gt;
&lt;div class=&#34;code-block relative mt-6 first:mt-0 group/code&#34;&gt;&lt;div&gt;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-python&#34; data-lang=&#34;python&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# use default parameters for processing a single file&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;n&#34;&gt;result&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;feature_detection&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;sample.mzML&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class=&#34;opacity-0 transition group-hover/code:opacity-100 flex gap-1 absolute m-[11px] right-0 top-0&#34;&gt;
    &lt;button
      class=&#34;code-copy-btn group/copybtn transition-all active:opacity-50 bg-primary-700/5 border border-black/5 text-gray-600 hover:text-gray-900 rounded-md p-1.5 dark:bg-primary-300/10 dark:border-white/10 dark:text-gray-400 dark:hover:text-gray-50&#34;
      title=&#34;Copy code&#34;
    &gt;
      &lt;div class=&#34;group-[.copied]/copybtn:hidden copy-icon pointer-events-none h-4 w-4&#34;&gt;&lt;/div&gt;
      &lt;div class=&#34;hidden group-[.copied]/copybtn:block success-icon pointer-events-none h-4 w-4&#34;&gt;&lt;/div&gt;
    &lt;/button&gt;
  &lt;/div&gt;
&lt;/div&gt;
&lt;h3&gt;untargeted_metabolomics_workflow&lt;span class=&#34;absolute -mt-20&#34; id=&#34;untargeted_metabolomics_workflow&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#untargeted_metabolomics_workflow&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h3&gt;&lt;p&gt;&lt;code&gt;untargeted_metabolomics_workflow(path=None, return_results=False, only_process_single_files=False, return_params_only=False)&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;The untargeted metabolomics workflow.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Parameters:&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;path&lt;/code&gt; (str, optional): The working directory. If &lt;code&gt;None&lt;/code&gt;, the current working directory is used.&lt;/li&gt;
&lt;li&gt;&lt;code&gt;return_results&lt;/code&gt; (bool, default &lt;code&gt;False&lt;/code&gt;): Whether to return the results.&lt;/li&gt;
&lt;li&gt;&lt;code&gt;only_process_single_files&lt;/code&gt; (bool, default &lt;code&gt;False&lt;/code&gt;): Whether to only process the single files.&lt;/li&gt;
&lt;li&gt;&lt;code&gt;return_params_only&lt;/code&gt; (bool, default &lt;code&gt;False&lt;/code&gt;): Whether to return the parameters only.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;strong&gt;Returns:&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;features&lt;/code&gt; (list): A list of features.&lt;/li&gt;
&lt;li&gt;&lt;code&gt;params&lt;/code&gt; (Params object): Parameters for the workflow.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;strong&gt;Usage:&lt;/strong&gt;&lt;/p&gt;
&lt;div class=&#34;code-block relative mt-6 first:mt-0 group/code&#34;&gt;&lt;div&gt;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-python&#34; data-lang=&#34;python&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;n&#34;&gt;untargeted_metabolomics_workflow&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;path&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;/path/to/project&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class=&#34;opacity-0 transition group-hover/code:opacity-100 flex gap-1 absolute m-[11px] right-0 top-0&#34;&gt;
    &lt;button
      class=&#34;code-copy-btn group/copybtn transition-all active:opacity-50 bg-primary-700/5 border border-black/5 text-gray-600 hover:text-gray-900 rounded-md p-1.5 dark:bg-primary-300/10 dark:border-white/10 dark:text-gray-400 dark:hover:text-gray-50&#34;
      title=&#34;Copy code&#34;
    &gt;
      &lt;div class=&#34;group-[.copied]/copybtn:hidden copy-icon pointer-events-none h-4 w-4&#34;&gt;&lt;/div&gt;
      &lt;div class=&#34;hidden group-[.copied]/copybtn:block success-icon pointer-events-none h-4 w-4&#34;&gt;&lt;/div&gt;
    &lt;/button&gt;
  &lt;/div&gt;
&lt;/div&gt;
&lt;h3&gt;batch_file_processing&lt;span class=&#34;absolute -mt-20&#34; id=&#34;batch_file_processing&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#batch_file_processing&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h3&gt;&lt;p&gt;&lt;code&gt;batch_file_processing(path=None, segment_feature=True, group_features=False, evaluate_peak_shape=True, annotate_ms2=True, ms2_library_path=None, cpu_ratio=0.8, batch_size=100)&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;Process single files using default parameters. This function is useful for batch processing of multiple files. Files from different ion modes are allowed, but parameters cannot be specified for individual files, and default parameters are used.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Parameters:&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;path&lt;/code&gt; (str, optional): The working directory. If &lt;code&gt;None&lt;/code&gt;, the current working directory is used.&lt;/li&gt;
&lt;li&gt;&lt;code&gt;segment_feature&lt;/code&gt; (bool, default &lt;code&gt;True&lt;/code&gt;): Whether to segment the feature to peaks for distinguishing possible isomers.&lt;/li&gt;
&lt;li&gt;&lt;code&gt;group_features&lt;/code&gt; (bool, default &lt;code&gt;False&lt;/code&gt;): Whether to group features by isotopes, adducts, and in-source fragments.&lt;/li&gt;
&lt;li&gt;&lt;code&gt;evaluate_peak_shape&lt;/code&gt; (bool, default &lt;code&gt;True&lt;/code&gt;): Whether to evaluate the peak shape by calculating noise score and asymmetry factor.&lt;/li&gt;
&lt;li&gt;&lt;code&gt;annotate_ms2&lt;/code&gt; (bool, default &lt;code&gt;True&lt;/code&gt;): Whether to annotate MS2 spectra.&lt;/li&gt;
&lt;li&gt;&lt;code&gt;ms2_library_path&lt;/code&gt; (str, optional): The path to the MS2 library.&lt;/li&gt;
&lt;li&gt;&lt;code&gt;cpu_ratio&lt;/code&gt; (float, default &lt;code&gt;0.8&lt;/code&gt;): The percentage of CPU cores to use.&lt;/li&gt;
&lt;li&gt;&lt;code&gt;batch_size&lt;/code&gt; (int, default &lt;code&gt;100&lt;/code&gt;): The number of files to process in each batch.&lt;/li&gt;
&lt;/ul&gt;
&lt;h3&gt;run_evaluation&lt;span class=&#34;absolute -mt-20&#34; id=&#34;run_evaluation&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#run_evaluation&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h3&gt;&lt;p&gt;&lt;code&gt;run_evaluation(path=None, zscore_threshold=-2)&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;Evaluate the run and report the problematic files. The path to the project directory should be organized as follows:&lt;/p&gt;
&lt;div class=&#34;code-block relative mt-6 first:mt-0 group/code&#34;&gt;&lt;pre&gt;&lt;code&gt;path
├── single_files
│   ├── sample1.txt
│   ├── sample2.txt
│   └── ...
└── ...&lt;/code&gt;&lt;/pre&gt;&lt;div class=&#34;opacity-0 transition group-hover/code:opacity-100 flex gap-1 absolute m-[11px] right-0 top-0&#34;&gt;
    &lt;button
      class=&#34;code-copy-btn group/copybtn transition-all active:opacity-50 bg-primary-700/5 border border-black/5 text-gray-600 hover:text-gray-900 rounded-md p-1.5 dark:bg-primary-300/10 dark:border-white/10 dark:text-gray-400 dark:hover:text-gray-50&#34;
      title=&#34;Copy code&#34;
    &gt;
      &lt;div class=&#34;group-[.copied]/copybtn:hidden copy-icon pointer-events-none h-4 w-4&#34;&gt;&lt;/div&gt;
      &lt;div class=&#34;hidden group-[.copied]/copybtn:block success-icon pointer-events-none h-4 w-4&#34;&gt;&lt;/div&gt;
    &lt;/button&gt;
  &lt;/div&gt;
&lt;/div&gt;
&lt;p&gt;where single_files contains the processed files in txt format.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Parameters:&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;path&lt;/code&gt; (str, optional): Path to the project directory.&lt;/li&gt;
&lt;li&gt;&lt;code&gt;zscore_threshold&lt;/code&gt; (float, default &lt;code&gt;-2&lt;/code&gt;): The threshold of z-score for detecting problematic files.&lt;/li&gt;
&lt;/ul&gt;

      </description>
    </item>
    
    <item>
      <title>mzpkl</title>
      <link>https://example.org/docs/api/mzpkl/</link>
      <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
      
      <guid>https://example.org/docs/api/mzpkl/</guid>
      <description>
        
        
        &lt;h2&gt;Overview&lt;span class=&#34;absolute -mt-20&#34; id=&#34;overview&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#overview&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h2&gt;&lt;p&gt;This module defines the structure of the &lt;code&gt;mzpkl&lt;/code&gt; file format, which is a temporary file format used to store the raw MS data
for faster reloading. The &lt;code&gt;mzpkl&lt;/code&gt; file format is a pickle file that is organized this way:&lt;/p&gt;
&lt;div class=&#34;code-block relative mt-6 first:mt-0 group/code&#34;&gt;&lt;pre&gt;&lt;code&gt;{
    &amp;#34;name&amp;#34;: str, # the name of the file
    &amp;#34;ion_mode&amp;#34;: str, # the ion mode of the file
    &amp;#34;ms1_time_arr&amp;#34;: np.ndarray, # the time array of the MS1 scans
    &amp;#34;ms1_idx&amp;#34;: np.ndarray, # the index array of the MS1 scans
    &amp;#34;ms2_idx&amp;#34;: np.ndarray, # the index array of the MS2 scans
    &amp;#34;scans&amp;#34;: list of 2D np.ndarray # MS1 and MS2 scans in the file. Each scan is a 2D np.ndarray with shape (n, 2), [[m/z, intensity], ...]
}&lt;/code&gt;&lt;/pre&gt;&lt;div class=&#34;opacity-0 transition group-hover/code:opacity-100 flex gap-1 absolute m-[11px] right-0 top-0&#34;&gt;
    &lt;button
      class=&#34;code-copy-btn group/copybtn transition-all active:opacity-50 bg-primary-700/5 border border-black/5 text-gray-600 hover:text-gray-900 rounded-md p-1.5 dark:bg-primary-300/10 dark:border-white/10 dark:text-gray-400 dark:hover:text-gray-50&#34;
      title=&#34;Copy code&#34;
    &gt;
      &lt;div class=&#34;group-[.copied]/copybtn:hidden copy-icon pointer-events-none h-4 w-4&#34;&gt;&lt;/div&gt;
      &lt;div class=&#34;hidden group-[.copied]/copybtn:block success-icon pointer-events-none h-4 w-4&#34;&gt;&lt;/div&gt;
    &lt;/button&gt;
  &lt;/div&gt;
&lt;/div&gt;
&lt;h2&gt;Functions&lt;span class=&#34;absolute -mt-20&#34; id=&#34;functions&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#functions&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h2&gt;&lt;h3&gt;Convert MS Data object to mzpkl&lt;span class=&#34;absolute -mt-20&#34; id=&#34;convert-ms-data-object-to-mzpkl&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#convert-ms-data-object-to-mzpkl&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h3&gt;&lt;p&gt;&lt;code&gt;convert_MSData_to_mzpkl(d, output_dir: str = None)&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;Converts an &lt;code&gt;MSData&lt;/code&gt; object to an &lt;code&gt;mzpkl&lt;/code&gt; file.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Parameters:&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;d&lt;/code&gt; (MSData): The MSData object to be converted.&lt;/li&gt;
&lt;li&gt;&lt;code&gt;output_dir&lt;/code&gt; (str): The directory where the &lt;code&gt;mzpkl&lt;/code&gt; file will be saved.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;strong&gt;Output:&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;the converted &lt;code&gt;mzpkl&lt;/code&gt; file will be saved in the specified directory.&lt;/li&gt;
&lt;li&gt;if the output directory is not specified, the &lt;code&gt;mzpkl&lt;/code&gt; file will be returned as a dictionary.&lt;/li&gt;
&lt;/ul&gt;
&lt;h3&gt;Read mzpkl to MS Data object&lt;span class=&#34;absolute -mt-20&#34; id=&#34;read-mzpkl-to-ms-data-object&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#read-mzpkl-to-ms-data-object&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h3&gt;&lt;p&gt;&lt;code&gt;read_mzpkl_to_MSData(d, file_path: str)&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;Reads an &lt;code&gt;mzpkl&lt;/code&gt; file to an &lt;code&gt;MSData&lt;/code&gt; object.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Parameters:&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;d&lt;/code&gt; (MSData): The initiated MSData object without scans data.&lt;/li&gt;
&lt;li&gt;&lt;code&gt;file_path&lt;/code&gt; (str): The path to the &lt;code&gt;mzpkl&lt;/code&gt; file.&lt;/li&gt;
&lt;/ul&gt;

      </description>
    </item>
    
    <item>
      <title>network</title>
      <link>https://example.org/docs/api/network/</link>
      <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
      
      <guid>https://example.org/docs/api/network/</guid>
      <description>
        
        
        &lt;p&gt;Documentation is under construction. Please check our source code directly for the latest updates.&lt;/p&gt;

      </description>
    </item>
    
    <item>
      <title>Parameters</title>
      <link>https://example.org/docs/workflows/parameters/</link>
      <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
      
      <guid>https://example.org/docs/workflows/parameters/</guid>
      <description>
        
        
        &lt;p&gt;Parameters are critical for MS data processing. However, setting parameters are often challenging, especially for beginners. &lt;em&gt;masscube&lt;/em&gt; provides a default parameter setting for users to start with.&lt;/p&gt;
&lt;p&gt;The default parameters are optimized for most untargeted metabolomics studies. Users can also customize the parameters by providing a parameter file.&lt;/p&gt;
&lt;h2&gt;Key parameters&lt;span class=&#34;absolute -mt-20&#34; id=&#34;key-parameters&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#key-parameters&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h2&gt;&lt;p&gt;Here we summarized six most important parameters in &lt;em&gt;masscube&lt;/em&gt; for untargeted metabolomics data processing:&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;&lt;strong&gt;MS1 mass tolerance&lt;/strong&gt;: the mass tolerance for MS1 feature detection. &lt;code&gt;0.005-0.01&lt;/code&gt; Da is recommended.&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Intensity tolerance&lt;/strong&gt;: the intensity tolerance for MS signals. &lt;code&gt;1000&lt;/code&gt; is recommended for TOF data, and &lt;code&gt;30000&lt;/code&gt; is recommended for Orbitrap data.&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Mass tolerance for alignement&lt;/strong&gt;: the mass tolerance for feature alignment. &lt;code&gt;0.01-0.015&lt;/code&gt; Da is recommended.&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;RT tolerance for alignment&lt;/strong&gt;: the RT tolerance for feature alignment. &lt;code&gt;0.1-0.3&lt;/code&gt; min is recommended.&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;MS/MS similarity score threshold&lt;/strong&gt;: the threshold for MS/MS similarity score. &lt;code&gt;0.7-0.8&lt;/code&gt; is recommended.&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;MS/MS library&lt;/strong&gt;: the MS/MS library for MS/MS annotation.&lt;/li&gt;
&lt;/ol&gt;
&lt;h2&gt;Default parameters&lt;span class=&#34;absolute -mt-20&#34; id=&#34;default-parameters&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#default-parameters&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h2&gt;&lt;p&gt;&lt;em&gt;masscube&lt;/em&gt; automatically acquire the analytical metadata from the raw files including the mass spectrometer type and ionization mode. The corresponding default parameters will be applied based on the metadata.&lt;/p&gt;
&lt;h2&gt;Customize parameters&lt;span class=&#34;absolute -mt-20&#34; id=&#34;customize-parameters&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#customize-parameters&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h2&gt;&lt;p&gt;From the &lt;a href=&#34;https://github.com/huaxuyu/masscubedocs/blob/main/content/docs/parameters.csv&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;template&lt;/a&gt;, you can customize the parameters by providing a parameter file. The parameter file should be a &lt;code&gt;.csv&lt;/code&gt; file with the following columns:&lt;/p&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;Parameter&lt;/th&gt;
&lt;th&gt;Value&lt;/th&gt;
&lt;th&gt;Explanation&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;ion_mode&lt;/td&gt;
&lt;td&gt;positive&lt;/td&gt;
&lt;td&gt;MS ion mode, &amp;ldquo;positive&amp;rdquo; or &amp;ldquo;negative&amp;rdquo;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;ms_type&lt;/td&gt;
&lt;td&gt;qtof&lt;/td&gt;
&lt;td&gt;type of MS, &amp;ldquo;orbitrap&amp;rdquo;, &amp;ldquo;qtof&amp;rdquo;, &amp;ldquo;tripletof&amp;rdquo; or &amp;ldquo;others&amp;rdquo;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;is_centroid&lt;/td&gt;
&lt;td&gt;yes&lt;/td&gt;
&lt;td&gt;whether the raw data is centroid data, &amp;ldquo;yes&amp;rdquo; or &amp;ldquo;no&amp;rdquo;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;mz_lower_limit&lt;/td&gt;
&lt;td&gt;0&lt;/td&gt;
&lt;td&gt;lower limit of m/z in Da&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;mz_upper_limit&lt;/td&gt;
&lt;td&gt;100000&lt;/td&gt;
&lt;td&gt;upper limit of m/z in Da&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;rt_lower_limit&lt;/td&gt;
&lt;td&gt;0&lt;/td&gt;
&lt;td&gt;lower limit of retention time in minutes&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;rt_upper_limit&lt;/td&gt;
&lt;td&gt;10000&lt;/td&gt;
&lt;td&gt;upper limit of retention time in minutes&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;ms1_abs_int_tol&lt;/td&gt;
&lt;td&gt;1000&lt;/td&gt;
&lt;td&gt;absolute intensity threshold for MS1, recommend 30000 for Orbitrap and 1000 for QTOF&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;ms2_abs_int_tol&lt;/td&gt;
&lt;td&gt;500&lt;/td&gt;
&lt;td&gt;absolute intensity threshold for MS2, recommend 10000 for Orbitrap and 500 for QTOF&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;mz_tol_ms1&lt;/td&gt;
&lt;td&gt;0.01&lt;/td&gt;
&lt;td&gt;m/z tolerance for MS1, default is 0.01&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;mz_tol_ms2&lt;/td&gt;
&lt;td&gt;0.015&lt;/td&gt;
&lt;td&gt;m/z tolerance for MS2, default is 0.015&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;scan_scan_cor_tol&lt;/td&gt;
&lt;td&gt;0.7&lt;/td&gt;
&lt;td&gt;scan-to-scan correlation tolerance for feature grouping, default is 0.7&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;mz_tol_alignment&lt;/td&gt;
&lt;td&gt;0.01&lt;/td&gt;
&lt;td&gt;m/z tolerance for alignment, default is 0.01&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;rt_tol_alignment&lt;/td&gt;
&lt;td&gt;0.2&lt;/td&gt;
&lt;td&gt;RT tolerance for alignment, default is 0.2&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;correct_rt&lt;/td&gt;
&lt;td&gt;yes&lt;/td&gt;
&lt;td&gt;whether to perform RT correction&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;merge_features&lt;/td&gt;
&lt;td&gt;yes&lt;/td&gt;
&lt;td&gt;whether to clean feature table by merging features with almost the same m/z and RT&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;ms2_library_path&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;path to the MS2 library (.msp or .pickle)&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;ms2_sim_tol&lt;/td&gt;
&lt;td&gt;0.7&lt;/td&gt;
&lt;td&gt;MS2 similarity tolerance&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;fuzzy_search&lt;/td&gt;
&lt;td&gt;yes&lt;/td&gt;
&lt;td&gt;whether to perform fuzzy search&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;sample_normalization&lt;/td&gt;
&lt;td&gt;no&lt;/td&gt;
&lt;td&gt;whether to normalize the data based on total sample amount/concentration&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;signal_normalization&lt;/td&gt;
&lt;td&gt;no&lt;/td&gt;
&lt;td&gt;whether to run feature-wised normalization to correct systematic signal drift&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;run_statistics&lt;/td&gt;
&lt;td&gt;no&lt;/td&gt;
&lt;td&gt;whether to perform statistical analysis&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;plot_bpc&lt;/td&gt;
&lt;td&gt;yes&lt;/td&gt;
&lt;td&gt;whether to plot base peak chromatograms&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;plot_ms2&lt;/td&gt;
&lt;td&gt;yes&lt;/td&gt;
&lt;td&gt;whether to plot mirror plots for MS2 matching&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;plot_normalization&lt;/td&gt;
&lt;td&gt;yes&lt;/td&gt;
&lt;td&gt;whether to plot normalization results&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;quant_method&lt;/td&gt;
&lt;td&gt;peak_height&lt;/td&gt;
&lt;td&gt;value for quantification and output, &amp;ldquo;peak_height&amp;rdquo;, &amp;ldquo;peak_area&amp;rdquo; or &amp;ldquo;top_average&amp;rdquo;&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;h2&gt;More about parameters&lt;span class=&#34;absolute -mt-20&#34; id=&#34;more-about-parameters&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#more-about-parameters&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h2&gt;&lt;p&gt;Much more parameters in &lt;em&gt;masscube&lt;/em&gt; are tunable to ensure flexibility and adaptability for different datasets. For programmers, please refer to each function and object in the &lt;a href=&#34;https://example.org/masscubedocs/docs/api&#34; &gt;API documentation&lt;/a&gt; for more details.&lt;/p&gt;

      </description>
    </item>
    
    <item>
      <title>Quick Start</title>
      <link>https://example.org/docs/quickstart/</link>
      <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
      
      <guid>https://example.org/docs/quickstart/</guid>
      <description>
        
        
        &lt;p&gt;Let’s dive into the untargeted metabolomics workflow, designed to simplify and streamline untargeted metabolomics analysis. This powerful workflow delivers comprehensive results with just a single command.&lt;/p&gt;
&lt;p&gt;If you haven’t installed MassCube yet, be sure to follow the &lt;a href=&#34;../installation&#34; &gt;installation guide&lt;/a&gt; before proceeding.&lt;/p&gt;
&lt;h2&gt;The MassCube untargeted metabolomics workflow&lt;span class=&#34;absolute -mt-20&#34; id=&#34;the-masscube-untargeted-metabolomics-workflow&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#the-masscube-untargeted-metabolomics-workflow&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h2&gt;&lt;p&gt;The workflow integrates metadata curation, feature detection, evaluation, alignment, annotation, and statistical analysis to provide users with a comprehensive view of the data (&lt;strong&gt;Fig. 1&lt;/strong&gt;).&lt;/p&gt;
&lt;p&gt;
    &lt;figure&gt;
    &lt;img src=&#34;../untargeted_workflow.png&#34; title=&#34;Fig. 1. The MassCube untargeted metabolomics workflow&#34; alt=&#34;&#34; loading=&#34;lazy&#34; /&gt;
    &lt;figcaption&gt;Fig. 1. The MassCube untargeted metabolomics workflow&lt;/figcaption&gt;
  &lt;/figure&gt;&lt;/p&gt;
&lt;div class=&#34;steps ml-4 mb-12 border-l border-gray-200 pl-6 dark:border-neutral-800 [counter-reset:step]&#34;&gt;
&lt;h3&gt;Input (3+1)&lt;span class=&#34;absolute -mt-20&#34; id=&#34;input-31&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#input-31&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h3&gt;&lt;p&gt;You need &lt;u&gt;three components&lt;/u&gt; for the project plus &lt;u&gt;one MS/MS library&lt;/u&gt; for annotation.&lt;/p&gt;
&lt;p&gt;In your project folder (e.g. &lt;strong&gt;my_project&lt;/strong&gt;), you need to prepare the following components:&lt;/p&gt;
&lt;div class=&#34;code-block relative mt-6 first:mt-0 group/code&#34;&gt;&lt;pre&gt;&lt;code&gt;my_project
├── data
│   ├── sample1.mzML
│   ├── sample2.mzML
|   └── ...
|── sample_table.csv
└── parameters.csv&lt;/code&gt;&lt;/pre&gt;&lt;div class=&#34;opacity-0 transition group-hover/code:opacity-100 flex gap-1 absolute m-[11px] right-0 top-0&#34;&gt;
    &lt;button
      class=&#34;code-copy-btn group/copybtn transition-all active:opacity-50 bg-primary-700/5 border border-black/5 text-gray-600 hover:text-gray-900 rounded-md p-1.5 dark:bg-primary-300/10 dark:border-white/10 dark:text-gray-400 dark:hover:text-gray-50&#34;
      title=&#34;Copy code&#34;
    &gt;
      &lt;div class=&#34;group-[.copied]/copybtn:hidden copy-icon pointer-events-none h-4 w-4&#34;&gt;&lt;/div&gt;
      &lt;div class=&#34;hidden group-[.copied]/copybtn:block success-icon pointer-events-none h-4 w-4&#34;&gt;&lt;/div&gt;
    &lt;/button&gt;
  &lt;/div&gt;
&lt;/div&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;&lt;code&gt;data&lt;/code&gt; folder: a file folder containing all raw LC-MS data in &lt;u&gt;.mzML&lt;/u&gt; or &lt;u&gt;.mzXML&lt;/u&gt; format. It&amp;rsquo;s &lt;strong&gt;mandatory&lt;/strong&gt;. Instructions for file conversion are provided &lt;a href=&#34;../workflows/data_preparation&#34; &gt;here&lt;/a&gt;.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;code&gt;sample_table.csv&lt;/code&gt; file: a csv file to claim the sample groups including biological groups, quality control samples, or blank samples. A template can be downloaded from &lt;a href=&#34;https://github.com/huaxuyu/masscubedocs/blob/main/content/docs/sample_table.csv&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;here&lt;/a&gt;. You could also use MassCube to &lt;a href=&#34;../workflows/data_preparation&#34; &gt;generate&lt;/a&gt; a sample table and edit. If not provided, normalization and statistical analysis will not be applied. &lt;strong&gt;Note:&lt;/strong&gt; In sample table, please specify if a sample is blank or qc from the &amp;ldquo;is_blank&amp;rdquo; and &amp;ldquo;is_qc&amp;rdquo; columns, respectively.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;code&gt;parameters.csv&lt;/code&gt; file: a csv file to set parameters for the workflow. You can set parameters and download the file for the workflow from &lt;a href=&#34;https://huaxuyu.github.io/masscube_parameters/&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;here&lt;/a&gt; or download a template &lt;a href=&#34;https://github.com/huaxuyu/masscubedocs/blob/main/content/docs/parameters.csv&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;here&lt;/a&gt;. If not provided, the &lt;a href=&#34;../workflows/parameters&#34; &gt;default parameters&lt;/a&gt; will be applied, yet &lt;strong&gt;annotation will not be performed since the MS/MS library is not provided&lt;/strong&gt;.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;MS2 database&lt;/strong&gt;: To annotate MS/MS spectra, you need to download a MS/MS library from &lt;a href=&#34;https://zenodo.org/records/14991522&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;here&lt;/a&gt;. For faster database loading, please download and use the .pkl format.&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;details class=&#34;last-of-type:mb-0 rounded-lg bg-neutral-50 dark:bg-neutral-800 p-2 mt-4 group&#34; &gt;
  &lt;summary class=&#34;flex items-center cursor-pointer select-none list-none p-1 rounded transition-colors hover:bg-gray-100 dark:hover:bg-neutral-800 before:mr-1 before:inline-block before:transition-transform before:content-[&#39;&#39;] dark:before:invert rtl:before:rotate-180 group-open:before:rotate-90&#34;&gt;
    &lt;strong class=&#34;text-lg&#34;&gt;Choose the right MS/MS database version&lt;/strong&gt;
  &lt;/summary&gt;
  &lt;div class=&#34;p-2 overflow-hidden&#34;&gt;
    For MassCube version 1.2.0 or later, please use &lt;a href=&#34;https://zenodo.org/records/14991522&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;New MS/MS Databases&lt;/a&gt;
For the earlier version, please use &lt;a href=&#34;https://zenodo.org/records/11363475&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;Old MS/MS Databases&lt;/a&gt;
  &lt;/div&gt;
&lt;/details&gt;
&lt;p&gt;&lt;strong&gt;Extra component for annotation:&lt;/strong&gt;&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;&lt;code&gt;mzrt_list.csv&lt;/code&gt; file: a csv file to provide the m/z and retention time for feature annotation. It was designed to annotate features using retention time (e.g. internal standards). A template can be downloaded from &lt;a href=&#34;https://github.com/huaxuyu/masscubedocs/blob/main/content/docs/mzrt_list.csv&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;here&lt;/a&gt;. It&amp;rsquo;s &lt;strong&gt;optional&lt;/strong&gt;.&lt;/li&gt;
&lt;/ol&gt;
&lt;div class=&#34;hextra-cards mt-4 gap-4 grid not-prose&#34; style=&#34;--rows: 3;&#34;&gt;
&lt;a
  class=&#34;hextra-card group flex flex-col justify-start overflow-hidden rounded-lg border border-gray-200 text-current no-underline dark:shadow-none hover:shadow-gray-100 dark:hover:shadow-none shadow-gray-100 active:shadow-sm active:shadow-gray-200 transition-all duration-200 hover:border-gray-300 bg-transparent shadow-sm dark:border-neutral-800 hover:bg-slate-50 hover:shadow-md dark:hover:border-neutral-700 dark:hover:bg-neutral-900&#34;href=&#34;../workflows/data_preparation&#34; &gt;&lt;span class=&#34;flex font-semibold items-start gap-2 p-4 text-gray-700 hover:text-gray-900 dark:text-neutral-200 dark:hover:text-neutral-50&#34;&gt;&lt;svg xmlns=&#34;http://www.w3.org/2000/svg&#34; fill=&#34;none&#34; viewBox=&#34;0 0 24 24&#34; stroke-width=&#34;2&#34; stroke=&#34;currentColor&#34; aria-hidden=&#34;true&#34;&gt;&lt;path stroke-linecap=&#34;round&#34; stroke-linejoin=&#34;round&#34; d=&#34;M14.752 11.168l-3.197-2.132A1 1 0 0010 9.87v4.263a1 1 0 001.555.832l3.197-2.132a1 1 0 000-1.664z&#34;/&gt;&lt;path stroke-linecap=&#34;round&#34; stroke-linejoin=&#34;round&#34; d=&#34;M21 12a9 9 0 11-18 0 9 9 0 0118 0z&#34;/&gt;&lt;/svg&gt;Data Preparation&lt;/span&gt;&lt;/a&gt;
&lt;a
  class=&#34;hextra-card group flex flex-col justify-start overflow-hidden rounded-lg border border-gray-200 text-current no-underline dark:shadow-none hover:shadow-gray-100 dark:hover:shadow-none shadow-gray-100 active:shadow-sm active:shadow-gray-200 transition-all duration-200 hover:border-gray-300 bg-transparent shadow-sm dark:border-neutral-800 hover:bg-slate-50 hover:shadow-md dark:hover:border-neutral-700 dark:hover:bg-neutral-900&#34;href=&#34;https://zenodo.org/records/14869318&#34; target=&#34;_blank&#34; rel=&#34;noreferrer&#34;&gt;&lt;span class=&#34;flex font-semibold items-start gap-2 p-4 text-gray-700 hover:text-gray-900 dark:text-neutral-200 dark:hover:text-neutral-50&#34;&gt;&lt;svg xmlns=&#34;http://www.w3.org/2000/svg&#34; fill=&#34;none&#34; viewBox=&#34;0 0 24 24&#34; stroke-width=&#34;2&#34; stroke=&#34;currentColor&#34; aria-hidden=&#34;true&#34;&gt;&lt;path stroke-linecap=&#34;round&#34; stroke-linejoin=&#34;round&#34; d=&#34;M4 7v10c0 2.21 3.582 4 8 4s8-1.79 8-4V7M4 7c0 2.21 3.582 4 8 4s8-1.79 8-4M4 7c0-2.21 3.582-4 8-4s8 1.79 8 4m0 5c0 2.21-3.582 4-8 4s-8-1.79-8-4&#34;/&gt;&lt;/svg&gt;Demo data&lt;/span&gt;&lt;/a&gt;
&lt;/div&gt;
&lt;h3&gt;Processing&lt;span class=&#34;absolute -mt-20&#34; id=&#34;processing&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#processing&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h3&gt;&lt;p&gt;&lt;strong&gt;In the project folder&lt;/strong&gt;, open a terminal and run the following command:&lt;/p&gt;
&lt;div class=&#34;code-block relative mt-6 first:mt-0 group/code&#34;&gt;&lt;div&gt;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;untargeted-metabolomics&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class=&#34;opacity-0 transition group-hover/code:opacity-100 flex gap-1 absolute m-[11px] right-0 top-0&#34;&gt;
    &lt;button
      class=&#34;code-copy-btn group/copybtn transition-all active:opacity-50 bg-primary-700/5 border border-black/5 text-gray-600 hover:text-gray-900 rounded-md p-1.5 dark:bg-primary-300/10 dark:border-white/10 dark:text-gray-400 dark:hover:text-gray-50&#34;
      title=&#34;Copy code&#34;
    &gt;
      &lt;div class=&#34;group-[.copied]/copybtn:hidden copy-icon pointer-events-none h-4 w-4&#34;&gt;&lt;/div&gt;
      &lt;div class=&#34;hidden group-[.copied]/copybtn:block success-icon pointer-events-none h-4 w-4&#34;&gt;&lt;/div&gt;
    &lt;/button&gt;
  &lt;/div&gt;
&lt;/div&gt;
&lt;details class=&#34;last-of-type:mb-0 rounded-lg bg-neutral-50 dark:bg-neutral-800 p-2 mt-4 group&#34; &gt;
  &lt;summary class=&#34;flex items-center cursor-pointer select-none list-none p-1 rounded transition-colors hover:bg-gray-100 dark:hover:bg-neutral-800 before:mr-1 before:inline-block before:transition-transform before:content-[&#39;&#39;] dark:before:invert rtl:before:rotate-180 group-open:before:rotate-90&#34;&gt;
    &lt;strong class=&#34;text-lg&#34;&gt;How to open a terminal&lt;/strong&gt;
  &lt;/summary&gt;
  &lt;div class=&#34;p-2 overflow-hidden&#34;&gt;
    Make sure the terminal directory is set to the project folder. For &lt;a href=&#34;https://johnwargo.com/posts/2024/launch-windows-terminal/&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;Windows user&lt;/a&gt; and &lt;a href=&#34;https://support.apple.com/guide/terminal/open-or-quit-terminal-apd5265185d-f365-44cb-8b09-71a064a42125/mac#:~:text=Terminal%20for%20me-,Open%20Terminal,%2C%20then%20double%2Dclick%20Terminal.&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;MacOS user&lt;/a&gt;
  &lt;/div&gt;
&lt;/details&gt;
&lt;h3&gt;Output&lt;span class=&#34;absolute -mt-20&#34; id=&#34;output&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#output&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h3&gt;&lt;p&gt;After the processing, you will find the following files and folders in the project folder:&lt;/p&gt;
&lt;div class=&#34;code-block relative mt-6 first:mt-0 group/code&#34;&gt;&lt;pre&gt;&lt;code&gt;project/
├── data
├── sample_table.csv
├── parameters.csv
├── mzrt_list.csv (optional)
├── project_files
│   ├── data_processing_metadata_[DATE].pkl
│   ├── features.msp
│   └── ...
├── aligned_feature_table.txt
|── normalized_feature_table.txt (if signal normalization applied)
├── single_files
│   ├── sample1.txt
│   ├── sample2.txt
│   └── ...
├── chromatograms
│   ├── sample1.png
│   ├── sample2.png
│   └── ...
├── ms2_matching
│   ├── compound1.png
│   ├── compound2.png
│   └── ...
├── statistical_analysis
├── normalization results
|   ├──feature_0_normalization.png
|   ├──feature_1_normalization.png
|   └── ...
├── ...&lt;/code&gt;&lt;/pre&gt;&lt;div class=&#34;opacity-0 transition group-hover/code:opacity-100 flex gap-1 absolute m-[11px] right-0 top-0&#34;&gt;
    &lt;button
      class=&#34;code-copy-btn group/copybtn transition-all active:opacity-50 bg-primary-700/5 border border-black/5 text-gray-600 hover:text-gray-900 rounded-md p-1.5 dark:bg-primary-300/10 dark:border-white/10 dark:text-gray-400 dark:hover:text-gray-50&#34;
      title=&#34;Copy code&#34;
    &gt;
      &lt;div class=&#34;group-[.copied]/copybtn:hidden copy-icon pointer-events-none h-4 w-4&#34;&gt;&lt;/div&gt;
      &lt;div class=&#34;hidden group-[.copied]/copybtn:block success-icon pointer-events-none h-4 w-4&#34;&gt;&lt;/div&gt;
    &lt;/button&gt;
  &lt;/div&gt;
&lt;/div&gt;
&lt;ol&gt;
&lt;li&gt;&lt;code&gt;project_files&lt;/code&gt; folder: a folder containing the metadata file for data processing.&lt;/li&gt;
&lt;li&gt;&lt;code&gt;aligned_feature_table.txt&lt;/code&gt; file: feature table after alignment (if applied).&lt;/li&gt;
&lt;li&gt;&lt;code&gt;single_files&lt;/code&gt; folder: a folder containing the feature table for each sample.&lt;/li&gt;
&lt;li&gt;&lt;code&gt;chromatograms&lt;/code&gt; folder: a folder containing the chromatogram for each sample.&lt;/li&gt;
&lt;li&gt;&lt;code&gt;ms2_matching&lt;/code&gt; folder: a folder containing the MS/MS matching for each annotated compound.&lt;/li&gt;
&lt;li&gt;&lt;code&gt;statistical_analysis&lt;/code&gt; folder: a folder containing the statistical analysis results.&lt;/li&gt;
&lt;li&gt;&lt;code&gt;normalization results&lt;/code&gt; folder: a folder containing the normalization results (if applied).&lt;/li&gt;
&lt;/ol&gt;
&lt;/div&gt;

      </description>
    </item>
    
    <item>
      <title>Prepare a database</title>
      <link>https://example.org/docs/workflows/database/</link>
      <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
      
      <guid>https://example.org/docs/workflows/database/</guid>
      <description>
        
        
        &lt;h2&gt;Introduction&lt;span class=&#34;absolute -mt-20&#34; id=&#34;introduction&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#introduction&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h2&gt;&lt;p&gt;A database is a collection of m/z, MS2 spectra, retentiont time, collision cross section, and other information of known compounds. It is used to identify the compounds in the LC-MS data. In this workflow, we introduce how to prepare a database for &lt;em&gt;masscube&lt;/em&gt;.&lt;/p&gt;
&lt;h2&gt;Download a database&lt;span class=&#34;absolute -mt-20&#34; id=&#34;download-a-database&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#download-a-database&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h2&gt;&lt;p&gt;For users without programming experience or just want to use a database directly, you can download a database from the &lt;a href=&#34;https://zenodo.org/records/11363475&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;here&lt;/a&gt;. For faster database loading, please download and use the .pkl format.&lt;/p&gt;
&lt;h2&gt;Prepare a database (for advanced users)&lt;span class=&#34;absolute -mt-20&#34; id=&#34;prepare-a-database-for-advanced-users&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#prepare-a-database-for-advanced-users&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h2&gt;&lt;p&gt;Three formats are supported for the database: pickle, msp, and json. The pickle format is recommended for faster loading. The msp format is recommended for compatibility with other software. The json format is another human-readable format commonly used in Python.&lt;/p&gt;
&lt;h3&gt;MSP format&lt;span class=&#34;absolute -mt-20&#34; id=&#34;msp-format&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#msp-format&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h3&gt;&lt;p&gt;An MSP database is a text file that contains the MS2 database. Each block contains the information of a compound. IMPORTANT: make sure the keys are consistent with the example below.&lt;/p&gt;
&lt;div class=&#34;code-block relative mt-6 first:mt-0 group/code&#34;&gt;&lt;div&gt;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-text&#34; data-lang=&#34;text&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;NAME: L-PHENYLALANINE
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;PRECURSORMZ: 166.086013793945
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;PRECURSORTYPE: [M+H]+
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;IONMODE: Positive
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;RETENTIONTIME: 3.30520009994507
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;CCS: 136.819671630859
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;FORMULA: C9H11NO2
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;ONTOLOGY: Phenylalanine and derivatives
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;SMILES: C1=CC=C(C=C1)C[C@@H](C(=O)O)N
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;INCHIKEY: COLNVLDHVKWLRT-QMMMGPOBSA-N
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;INSTRUMENTTYPE: LC-ESI-QFT
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;COLLISIONENERGY: 35.0 eV
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;COMMENT: DB#=EMBL-MCF_spec98214; origin=EMBL - Metabolomics Core Facility Spectral Library
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;Num Peaks: 7
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;103.054	15
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;107.049	14
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;120.081	1000
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;121.084	16
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;131.049	41
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;149.059	16
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;166.086	56&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class=&#34;opacity-0 transition group-hover/code:opacity-100 flex gap-1 absolute m-[11px] right-0 top-0&#34;&gt;
    &lt;button
      class=&#34;code-copy-btn group/copybtn transition-all active:opacity-50 bg-primary-700/5 border border-black/5 text-gray-600 hover:text-gray-900 rounded-md p-1.5 dark:bg-primary-300/10 dark:border-white/10 dark:text-gray-400 dark:hover:text-gray-50&#34;
      title=&#34;Copy code&#34;
    &gt;
      &lt;div class=&#34;group-[.copied]/copybtn:hidden copy-icon pointer-events-none h-4 w-4&#34;&gt;&lt;/div&gt;
      &lt;div class=&#34;hidden group-[.copied]/copybtn:block success-icon pointer-events-none h-4 w-4&#34;&gt;&lt;/div&gt;
    &lt;/button&gt;
  &lt;/div&gt;
&lt;/div&gt;
&lt;p&gt;Here, NAME, PRECURSORMZ and PRECURSORTYPE is mandatory. In particular,&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;if RETENTIONTIME is not provided, level 1 annotation (i.e. retention time and MS2 matching) will not be performed.&lt;/li&gt;
&lt;li&gt;if any of FORMULA, SMILES or INCHIKEY is not provided, they will be missing in the output.&lt;/li&gt;
&lt;li&gt;if MS2 spectra (lines below Num Peaks) are not provided but retention time is provided, mzrt matching will be performed. In this case, no similarity score will be calculated. But you can compare the experimental and matched retention time to see if they are close.&lt;/li&gt;
&lt;/ol&gt;
&lt;h3&gt;Pickle format&lt;span class=&#34;absolute -mt-20&#34; id=&#34;pickle-format&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#pickle-format&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h3&gt;&lt;p&gt;A .pkl database is a FlashEntropySearch object that contains the MS2 database. ms_entropy version 1.2.2 is highly recommended to generate this object (other versions may not work). Here is an example of how to generate a .pkl database from a msp file:&lt;/p&gt;
&lt;div class=&#34;code-block relative mt-6 first:mt-0 group/code&#34;&gt;&lt;div&gt;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-python&#34; data-lang=&#34;python&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;kn&#34;&gt;from&lt;/span&gt; &lt;span class=&#34;nn&#34;&gt;masscube.annotation&lt;/span&gt; &lt;span class=&#34;kn&#34;&gt;import&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;index_msp_to_pkl&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# it will output a database.pkl file in the same folder&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;n&#34;&gt;index_msp_to_pkl&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;database.msp&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class=&#34;opacity-0 transition group-hover/code:opacity-100 flex gap-1 absolute m-[11px] right-0 top-0&#34;&gt;
    &lt;button
      class=&#34;code-copy-btn group/copybtn transition-all active:opacity-50 bg-primary-700/5 border border-black/5 text-gray-600 hover:text-gray-900 rounded-md p-1.5 dark:bg-primary-300/10 dark:border-white/10 dark:text-gray-400 dark:hover:text-gray-50&#34;
      title=&#34;Copy code&#34;
    &gt;
      &lt;div class=&#34;group-[.copied]/copybtn:hidden copy-icon pointer-events-none h-4 w-4&#34;&gt;&lt;/div&gt;
      &lt;div class=&#34;hidden group-[.copied]/copybtn:block success-icon pointer-events-none h-4 w-4&#34;&gt;&lt;/div&gt;
    &lt;/button&gt;
  &lt;/div&gt;
&lt;/div&gt;
&lt;p&gt;Check the source code of &lt;code&gt;index_.msp_to_pkl&lt;/code&gt; for more details.&lt;/p&gt;
&lt;h3&gt;JSON format&lt;span class=&#34;absolute -mt-20&#34; id=&#34;json-format&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#json-format&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h3&gt;&lt;p&gt;A JSON database is a list of dictionaries, each dictionary contains&lt;/p&gt;
&lt;div class=&#34;code-block relative mt-6 first:mt-0 group/code&#34;&gt;&lt;div&gt;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-json&#34; data-lang=&#34;json&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  &lt;span class=&#34;nt&#34;&gt;&amp;#34;name&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;#34;L-PHENYLALANINE&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  &lt;span class=&#34;nt&#34;&gt;&amp;#34;precursor_mz&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;mf&#34;&gt;166.086013793945&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  &lt;span class=&#34;nt&#34;&gt;&amp;#34;precursor_type&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;#34;[M+H]+&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  &lt;span class=&#34;nt&#34;&gt;&amp;#34;ionmode&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;#34;Positive&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  &lt;span class=&#34;nt&#34;&gt;&amp;#34;retentiontime&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;#34;3.30520009994507&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  &lt;span class=&#34;nt&#34;&gt;&amp;#34;ccs&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;#34;136.819671630859&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  &lt;span class=&#34;nt&#34;&gt;&amp;#34;formula&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;#34;C9H11NO2&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  &lt;span class=&#34;nt&#34;&gt;&amp;#34;ontology&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;#34;Phenylalanine and derivatives&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  &lt;span class=&#34;nt&#34;&gt;&amp;#34;smiles&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;#34;C1=CC=C(C=C1)C[C@@H](C(=O)O)N&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  &lt;span class=&#34;nt&#34;&gt;&amp;#34;inchikey&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;#34;COLNVLDHVKWLRT-QMMMGPOBSA-N&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  &lt;span class=&#34;nt&#34;&gt;&amp;#34;instrumenttype&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;#34;LC-ESI-QFT&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  &lt;span class=&#34;nt&#34;&gt;&amp;#34;collisionenergy&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;#34;35.0 eV&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  &lt;span class=&#34;nt&#34;&gt;&amp;#34;comment&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;#34;DB#=EMBL-MCF_spec98214; origin=EMBL - Metabolomics Core Facility Spectral Library&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  &lt;span class=&#34;nt&#34;&gt;&amp;#34;num peaks&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;#34;7&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  &lt;span class=&#34;nt&#34;&gt;&amp;#34;peaks&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;103.054&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;#34;15&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;],&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;107.049&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;#34;14&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;],&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;120.081&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;#34;1000&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;],&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;121.084&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;#34;16&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;],&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;131.049&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;#34;41&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;],&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;149.059&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;#34;16&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;],&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;166.086&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;#34;56&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;]&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  &lt;span class=&#34;p&#34;&gt;]&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class=&#34;opacity-0 transition group-hover/code:opacity-100 flex gap-1 absolute m-[11px] right-0 top-0&#34;&gt;
    &lt;button
      class=&#34;code-copy-btn group/copybtn transition-all active:opacity-50 bg-primary-700/5 border border-black/5 text-gray-600 hover:text-gray-900 rounded-md p-1.5 dark:bg-primary-300/10 dark:border-white/10 dark:text-gray-400 dark:hover:text-gray-50&#34;
      title=&#34;Copy code&#34;
    &gt;
      &lt;div class=&#34;group-[.copied]/copybtn:hidden copy-icon pointer-events-none h-4 w-4&#34;&gt;&lt;/div&gt;
      &lt;div class=&#34;hidden group-[.copied]/copybtn:block success-icon pointer-events-none h-4 w-4&#34;&gt;&lt;/div&gt;
    &lt;/button&gt;
  &lt;/div&gt;
&lt;/div&gt;
&lt;p&gt;Please see explanations of the keys in the MSP format.&lt;/p&gt;

      </description>
    </item>
    
    <item>
      <title>Untargeted metabolomics workflow</title>
      <link>https://example.org/docs/workflows/untargeted_metabolomics/</link>
      <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
      
      <guid>https://example.org/docs/workflows/untargeted_metabolomics/</guid>
      <description>
        
        
        &lt;h2&gt;Introduction&lt;span class=&#34;absolute -mt-20&#34; id=&#34;introduction&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#introduction&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h2&gt;&lt;p&gt;Data processing is critical for metabolomics studies. A series of steps are required to process the raw data to generate biological hypothesis that can be further validated.&lt;/p&gt;
&lt;p&gt;The MassCube untargeted metabolomics workflow aims to address the burdens in mass spectrometry-based metabolomics data processing. It integrates metadata curation, feature detection, evaluation, alignment, annotation, and statistical analysis to provide users with a comprehensive view of the data.&lt;/p&gt;
&lt;h2&gt;How to use&lt;span class=&#34;absolute -mt-20&#34; id=&#34;how-to-use&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#how-to-use&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h2&gt;&lt;p&gt;Please refer to the &lt;a href=&#34;https://example.org/docs/quickstart&#34; &gt;quick start guide&lt;/a&gt;.&lt;/p&gt;
&lt;h2&gt;Explainations of the workflow&lt;span class=&#34;absolute -mt-20&#34; id=&#34;explainations-of-the-workflow&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#explainations-of-the-workflow&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h2&gt;&lt;div class=&#34;code-block relative mt-6 first:mt-0 group/code&#34;&gt;&lt;div&gt;&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt; 1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 2
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 3
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 4
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 5
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 6
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 7
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 8
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 9
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;10
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;11
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;12
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;13
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;14
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;15
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;16
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;17
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;18
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;19
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;20
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;21
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;22
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;23
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-python&#34; data-lang=&#34;python&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;k&#34;&gt;def&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;untargeted_metabolomics_workflow&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;path&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;kc&#34;&gt;None&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;return_results&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;kc&#34;&gt;False&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;only_process_single_files&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;kc&#34;&gt;False&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;return_params_only&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;kc&#34;&gt;False&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;):&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;s2&#34;&gt;&amp;#34;&amp;#34;&amp;#34;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;s2&#34;&gt;    The untargeted metabolomics workflow. See the documentation for details.
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;s2&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;s2&#34;&gt;    Parameters
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;s2&#34;&gt;    ----------
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;s2&#34;&gt;    path : str
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;s2&#34;&gt;        The working directory. If None, the current working directory is used.
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;s2&#34;&gt;    return_results : bool
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;s2&#34;&gt;        Whether to return the results. Default is False.
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;s2&#34;&gt;    only_process_single_files : bool
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;s2&#34;&gt;        Whether to only process the single files. Default is False.
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;s2&#34;&gt;    return_params_only : bool
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;s2&#34;&gt;        Whether to return the parameters only. Default is False.
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;s2&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;s2&#34;&gt;    Returns
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;s2&#34;&gt;    -------
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;s2&#34;&gt;    features : list
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;s2&#34;&gt;        A list of features.
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;s2&#34;&gt;    params : Params object
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;s2&#34;&gt;        Parameters for the workflow.
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;s2&#34;&gt;    &amp;#34;&amp;#34;&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;o&#34;&gt;...&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;/div&gt;&lt;div class=&#34;opacity-0 transition group-hover/code:opacity-100 flex gap-1 absolute m-[11px] right-0 top-0&#34;&gt;
    &lt;button
      class=&#34;code-copy-btn group/copybtn transition-all active:opacity-50 bg-primary-700/5 border border-black/5 text-gray-600 hover:text-gray-900 rounded-md p-1.5 dark:bg-primary-300/10 dark:border-white/10 dark:text-gray-400 dark:hover:text-gray-50&#34;
      title=&#34;Copy code&#34;
    &gt;
      &lt;div class=&#34;group-[.copied]/copybtn:hidden copy-icon pointer-events-none h-4 w-4&#34;&gt;&lt;/div&gt;
      &lt;div class=&#34;hidden group-[.copied]/copybtn:block success-icon pointer-events-none h-4 w-4&#34;&gt;&lt;/div&gt;
    &lt;/button&gt;
  &lt;/div&gt;
&lt;/div&gt;
&lt;div class=&#34;steps ml-4 mb-12 border-l border-gray-200 pl-6 dark:border-neutral-800 [counter-reset:step]&#34;&gt;
&lt;h3&gt;Step 1. Define or load parameters&lt;span class=&#34;absolute -mt-20&#34; id=&#34;step-1-define-or-load-parameters&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#step-1-define-or-load-parameters&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h3&gt;&lt;p&gt;Parameters are critical for MS data processing. However, setting parameters are often challenging, especially for beginners or scientists who are not familiar with the MS data.&lt;/p&gt;
&lt;p&gt;&lt;em&gt;masscube&lt;/em&gt; automatically read the MS data and apply the corresponding default parameters. Users can also customize the parameters by providing a parameter file.&lt;/p&gt;
&lt;h3&gt;Step 2. Load sample table and organize data&lt;span class=&#34;absolute -mt-20&#34; id=&#34;step-2-load-sample-table-and-organize-data&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#step-2-load-sample-table-and-organize-data&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h3&gt;&lt;p&gt;A sample table is used to claim the name of samples and their groups. In most metabolomics studies, quality control samples and blank samples are included. &lt;em&gt;masscube&lt;/em&gt; automatically apply normalization and statistical analysis if the sample table is provided.&lt;/p&gt;
&lt;h3&gt;Step 3. Single file processing&lt;span class=&#34;absolute -mt-20&#34; id=&#34;step-3-single-file-processing&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#step-3-single-file-processing&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h3&gt;&lt;p&gt;Individual files are processed for feature detection, which envolves the detection of peak apex, edges, area, and related MS/MS spectra. By default, features are not grouped in this step to reduce computational cost, and grouping will be performed in the alignment step.&lt;/p&gt;
&lt;p&gt;To accelerate the processing, &lt;em&gt;masscube&lt;/em&gt; supports parallel computing for multiple files. By default, the number of threads is set to be the 80% of the total CPU cores so that the computer can still be used for other tasks.&lt;/p&gt;
&lt;p&gt;To control the memory usage, the files are processed in batches. The default batch size is 100.&lt;/p&gt;
&lt;h3&gt;Step 4. Feature alignment&lt;span class=&#34;absolute -mt-20&#34; id=&#34;step-4-feature-alignment&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#step-4-feature-alignment&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h3&gt;&lt;p&gt;Feature alignment aims to match the same feature across different samples. The alignment is based on the mass-to-charge ratio and retention time. The mass tolerance and retention time tolerance are critical for the alignment. It also includes the annotation of isotopes, charge states, adducts, and in-source fragments.&lt;/p&gt;
&lt;h3&gt;Step 5. Gap filling&lt;span class=&#34;absolute -mt-20&#34; id=&#34;step-5-gap-filling&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#step-5-gap-filling&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h3&gt;&lt;p&gt;Gap filling is critical for the downstream statistical analysis, and missing values are treated by forced peak detection.&lt;/p&gt;
&lt;h3&gt;Step 6. MS/MS annotation&lt;span class=&#34;absolute -mt-20&#34; id=&#34;step-6-msms-annotation&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#step-6-msms-annotation&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h3&gt;&lt;p&gt;Compound annotation was performed by matching the experimental MS/MS spectra with the MS/MS library. The MS/MS similarity score is generated to indicate the confidence of the annotation.&lt;/p&gt;
&lt;p&gt;Flash entropy search is used to accelerate the annotation. &lt;em&gt;masscube&lt;/em&gt; also provides analog search (i.e. hybrid search) for unknown discovery.&lt;/p&gt;
&lt;h3&gt;Step 7. Normalization&lt;span class=&#34;absolute -mt-20&#34; id=&#34;step-7-normalization&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#step-7-normalization&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h3&gt;&lt;p&gt;Two types of normalization could be needed in metabolomics to address the systematic signal drifts and the sample-to-sample variation (i.e. total amount/concentration difference). &lt;em&gt;masscube&lt;/em&gt; provides multiple post-acquisition normalization algorithms to address the normalization issue.&lt;/p&gt;
&lt;h3&gt;Step 8. Statistical analysis&lt;span class=&#34;absolute -mt-20&#34; id=&#34;step-8-statistical-analysis&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#step-8-statistical-analysis&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h3&gt;&lt;p&gt;Univariate and multivariate statistical analysis will be performed if sample table is provided. The results will be saved in the &lt;code&gt;statistics&lt;/code&gt; folder.&lt;/p&gt;
&lt;h3&gt;Step 9. Data visualization&lt;span class=&#34;absolute -mt-20&#34; id=&#34;step-9-data-visualization&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#step-9-data-visualization&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h3&gt;&lt;p&gt;Users can choose to plot the base peak chromatogram (BPC) to verify possible bad injections or outliers. The MS/MS matching plots are generated for the annotated compounds. PCA plots are generated for the statistical analysis.&lt;/p&gt;
&lt;/div&gt;

      </description>
    </item>
    
    <item>
      <title>Single file processing by applying default parameters depending on the data</title>
      <link>https://example.org/docs/workflows/batch_processing/</link>
      <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
      
      <guid>https://example.org/docs/workflows/batch_processing/</guid>
      <description>
        
        
        &lt;h2&gt;Introduction&lt;span class=&#34;absolute -mt-20&#34; id=&#34;introduction&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#introduction&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h2&gt;&lt;p&gt;Processing each raw LC-MS data individually can be useful for further customized analysis. In this workflow, we introduce how to process single files in batch mode using &lt;em&gt;masscube&lt;/em&gt;. Note, the processed files will not be aligned across samples. Also, files with different ion modes and instruments are allowed in the same batch, as &lt;em&gt;masscube&lt;/em&gt; will apply different parameters depending on the data.&lt;/p&gt;
&lt;h2&gt;How to use&lt;span class=&#34;absolute -mt-20&#34; id=&#34;how-to-use&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#how-to-use&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h2&gt;&lt;div class=&#34;steps ml-4 mb-12 border-l border-gray-200 pl-6 dark:border-neutral-800 [counter-reset:step]&#34;&gt;
&lt;h3&gt;Organize the data&lt;span class=&#34;absolute -mt-20&#34; id=&#34;organize-the-data&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#organize-the-data&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h3&gt;&lt;p&gt;Similar to the untargeted metabolomics workflow, the data should be organized in the following structure:&lt;/p&gt;
&lt;div class=&#34;code-block relative mt-6 first:mt-0 group/code&#34;&gt;&lt;pre&gt;&lt;code&gt;my_project
├── data
│   ├── sample1.mzML
│   ├── sample2.mzML
|   └── ...
├── ...&lt;/code&gt;&lt;/pre&gt;&lt;div class=&#34;opacity-0 transition group-hover/code:opacity-100 flex gap-1 absolute m-[11px] right-0 top-0&#34;&gt;
    &lt;button
      class=&#34;code-copy-btn group/copybtn transition-all active:opacity-50 bg-primary-700/5 border border-black/5 text-gray-600 hover:text-gray-900 rounded-md p-1.5 dark:bg-primary-300/10 dark:border-white/10 dark:text-gray-400 dark:hover:text-gray-50&#34;
      title=&#34;Copy code&#34;
    &gt;
      &lt;div class=&#34;group-[.copied]/copybtn:hidden copy-icon pointer-events-none h-4 w-4&#34;&gt;&lt;/div&gt;
      &lt;div class=&#34;hidden group-[.copied]/copybtn:block success-icon pointer-events-none h-4 w-4&#34;&gt;&lt;/div&gt;
    &lt;/button&gt;
  &lt;/div&gt;
&lt;/div&gt;
&lt;p&gt;You cannot set parameters here.&lt;/p&gt;
&lt;h3&gt;Processing&lt;span class=&#34;absolute -mt-20&#34; id=&#34;processing&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#processing&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h3&gt;&lt;p&gt;&lt;strong&gt;In the project folder&lt;/strong&gt;, open a terminal and run the following command:&lt;/p&gt;
&lt;div class=&#34;code-block relative mt-6 first:mt-0 group/code&#34;&gt;&lt;div&gt;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;process-files&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class=&#34;opacity-0 transition group-hover/code:opacity-100 flex gap-1 absolute m-[11px] right-0 top-0&#34;&gt;
    &lt;button
      class=&#34;code-copy-btn group/copybtn transition-all active:opacity-50 bg-primary-700/5 border border-black/5 text-gray-600 hover:text-gray-900 rounded-md p-1.5 dark:bg-primary-300/10 dark:border-white/10 dark:text-gray-400 dark:hover:text-gray-50&#34;
      title=&#34;Copy code&#34;
    &gt;
      &lt;div class=&#34;group-[.copied]/copybtn:hidden copy-icon pointer-events-none h-4 w-4&#34;&gt;&lt;/div&gt;
      &lt;div class=&#34;hidden group-[.copied]/copybtn:block success-icon pointer-events-none h-4 w-4&#34;&gt;&lt;/div&gt;
    &lt;/button&gt;
  &lt;/div&gt;
&lt;/div&gt;
&lt;h3&gt;Output&lt;span class=&#34;absolute -mt-20&#34; id=&#34;output&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#output&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h3&gt;&lt;p&gt;After the processing, you will find the following files and folders in the project folder:&lt;/p&gt;
&lt;div class=&#34;code-block relative mt-6 first:mt-0 group/code&#34;&gt;&lt;pre&gt;&lt;code&gt;project/
├── data
├── single_file_output
│   ├── sample1.txt
│   ├── sample2.txt
│   └── ...
├── chromatogram
│   ├── sample1.png
│   ├── sample2.png
│   └── ...
├── ...&lt;/code&gt;&lt;/pre&gt;&lt;div class=&#34;opacity-0 transition group-hover/code:opacity-100 flex gap-1 absolute m-[11px] right-0 top-0&#34;&gt;
    &lt;button
      class=&#34;code-copy-btn group/copybtn transition-all active:opacity-50 bg-primary-700/5 border border-black/5 text-gray-600 hover:text-gray-900 rounded-md p-1.5 dark:bg-primary-300/10 dark:border-white/10 dark:text-gray-400 dark:hover:text-gray-50&#34;
      title=&#34;Copy code&#34;
    &gt;
      &lt;div class=&#34;group-[.copied]/copybtn:hidden copy-icon pointer-events-none h-4 w-4&#34;&gt;&lt;/div&gt;
      &lt;div class=&#34;hidden group-[.copied]/copybtn:block success-icon pointer-events-none h-4 w-4&#34;&gt;&lt;/div&gt;
    &lt;/button&gt;
  &lt;/div&gt;
&lt;/div&gt;
&lt;ol&gt;
&lt;li&gt;&lt;code&gt;single_file_output&lt;/code&gt; folder: a folder containing the feature table for each sample.&lt;/li&gt;
&lt;li&gt;&lt;code&gt;chromatogram&lt;/code&gt; folder: a folder containing the chromatogram for each sample.&lt;/li&gt;
&lt;/ol&gt;
&lt;/div&gt;
&lt;h2&gt;Explainations of the workflow&lt;span class=&#34;absolute -mt-20&#34; id=&#34;explainations-of-the-workflow&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#explainations-of-the-workflow&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h2&gt;&lt;div class=&#34;code-block relative mt-6 first:mt-0 group/code&#34;&gt;&lt;div&gt;&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt; 1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 2
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 3
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 4
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 5
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 6
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 7
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 8
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 9
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;10
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;11
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;12
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;13
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;14
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;15
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;16
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;17
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;18
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;19
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;20
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;21
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;22
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;23
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;24
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;25
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-python&#34; data-lang=&#34;python&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;k&#34;&gt;def&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;batch_file_processing&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;path&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;kc&#34;&gt;None&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;segment_feature&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;kc&#34;&gt;True&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;group_features&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;kc&#34;&gt;False&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;evaluate_peak_shape&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;kc&#34;&gt;True&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;                         &lt;span class=&#34;n&#34;&gt;annotate_ms2&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;kc&#34;&gt;True&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;ms2_library_path&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;kc&#34;&gt;None&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;cpu_ratio&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;mf&#34;&gt;0.8&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;batch_size&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;100&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;):&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;s2&#34;&gt;&amp;#34;&amp;#34;&amp;#34;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;s2&#34;&gt;    Process single files using default parameters.
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;s2&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;s2&#34;&gt;    Parameters
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;s2&#34;&gt;    ----------
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;s2&#34;&gt;    path : str
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;s2&#34;&gt;        The working directory. If None, the current working directory is used.
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;s2&#34;&gt;    segment_feature : bool
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;s2&#34;&gt;        Whether to segment the feature to peaks for distinguishing possible isomers. Default is True.
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;s2&#34;&gt;    group_features : bool
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;s2&#34;&gt;        Whether to group features by isotopes, adducts and in-source fragments. Default is True.
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;s2&#34;&gt;    evaluate_peak_shape : bool
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;s2&#34;&gt;        Whether to evaluate the peak shape by calculating noise score and asymmetry factor. Default is True.
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;s2&#34;&gt;    annotate_ms2 : bool
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;s2&#34;&gt;        Whether to annotate MS2 spectra. Default is True.
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;s2&#34;&gt;    ms2_library_path : str
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;s2&#34;&gt;        The path to the MS2 library.
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;s2&#34;&gt;    cpu_ratio : float
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;s2&#34;&gt;        The percentage of CPU cores to use. Default is 0.8.
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;s2&#34;&gt;    batch_size : int
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;s2&#34;&gt;        The number of files to process in each batch. Default is 100.
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;s2&#34;&gt;    &amp;#34;&amp;#34;&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;o&#34;&gt;...&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;/div&gt;&lt;div class=&#34;opacity-0 transition group-hover/code:opacity-100 flex gap-1 absolute m-[11px] right-0 top-0&#34;&gt;
    &lt;button
      class=&#34;code-copy-btn group/copybtn transition-all active:opacity-50 bg-primary-700/5 border border-black/5 text-gray-600 hover:text-gray-900 rounded-md p-1.5 dark:bg-primary-300/10 dark:border-white/10 dark:text-gray-400 dark:hover:text-gray-50&#34;
      title=&#34;Copy code&#34;
    &gt;
      &lt;div class=&#34;group-[.copied]/copybtn:hidden copy-icon pointer-events-none h-4 w-4&#34;&gt;&lt;/div&gt;
      &lt;div class=&#34;hidden group-[.copied]/copybtn:block success-icon pointer-events-none h-4 w-4&#34;&gt;&lt;/div&gt;
    &lt;/button&gt;
  &lt;/div&gt;
&lt;/div&gt;
&lt;div class=&#34;steps ml-4 mb-12 border-l border-gray-200 pl-6 dark:border-neutral-800 [counter-reset:step]&#34;&gt;
&lt;h3&gt;Step 1. Single file processing&lt;span class=&#34;absolute -mt-20&#34; id=&#34;step-1-single-file-processing&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#step-1-single-file-processing&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h3&gt;&lt;p&gt;Individual files are processed for feature detection, which envolves the detection of peak apex, edges, area, and related MS/MS spectra. It also includes the determination of isotopes, charge states, adducts, and in-source fragments.&lt;/p&gt;
&lt;p&gt;To accelerate the processing, &lt;em&gt;masscube&lt;/em&gt; supports parallel computing for multiple files. By default, the number of threads is set to be the 80% (&lt;code&gt;cpu_ratio=0.8&lt;/code&gt;) of the total CPU cores so that the computer can still be used for other tasks.&lt;/p&gt;
&lt;p&gt;To control the memory usage, the files are processed in batches. The default batch size is 100 (&lt;code&gt;batch_size=100&lt;/code&gt;).&lt;/p&gt;
&lt;h3&gt;Step 2. Data visualization&lt;span class=&#34;absolute -mt-20&#34; id=&#34;step-2-data-visualization&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#step-2-data-visualization&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h3&gt;&lt;p&gt;Users can choose to plot the base peak chromatogram (BPC) to verify possible bad injections or outliers.&lt;/p&gt;
&lt;/div&gt;

      </description>
    </item>
    
    <item>
      <title>Find outliers</title>
      <link>https://example.org/docs/workflows/find-outliers/</link>
      <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
      
      <guid>https://example.org/docs/workflows/find-outliers/</guid>
      <description>
        
        
        &lt;h2&gt;Introduction&lt;span class=&#34;absolute -mt-20&#34; id=&#34;introduction&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#introduction&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h2&gt;&lt;p&gt;Outliers are data files that differ significantly from the rest of the dataset. In MS experiments, outliers can arise due to various factors such as instrument error, sample preparation issues, or biological variation. Identifying and removing outliers before downstream analysis is crucial to avoid misleading results.&lt;/p&gt;
&lt;p&gt;&lt;em&gt;masscube&lt;/em&gt; evaluates the analytical sequence and reports problematic samples in an unsupervised manner. It assesses the quality of the raw data by analyzing the total peak height of all detected features. Files with a Z-score lower than -2 (by default) are recognized as outliers, ensuring that only high-quality data are included in the downstream analysis.&lt;/p&gt;
&lt;h2&gt;How to use&lt;span class=&#34;absolute -mt-20&#34; id=&#34;how-to-use&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#how-to-use&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h2&gt;&lt;div class=&#34;steps ml-4 mb-12 border-l border-gray-200 pl-6 dark:border-neutral-800 [counter-reset:step]&#34;&gt;
&lt;h3&gt;Step 1. Organize the data&lt;span class=&#34;absolute -mt-20&#34; id=&#34;step-1-organize-the-data&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#step-1-organize-the-data&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h3&gt;&lt;p&gt;Put all processed raw data files in a folder. The data should be organized in the following structure:&lt;/p&gt;
&lt;div class=&#34;code-block relative mt-6 first:mt-0 group/code&#34;&gt;&lt;pre&gt;&lt;code&gt;my_project
├── single_files
│   ├── sample1.txt
│   ├── sample2.txt
|   └── ...
└── sample_table.csv&lt;/code&gt;&lt;/pre&gt;&lt;div class=&#34;opacity-0 transition group-hover/code:opacity-100 flex gap-1 absolute m-[11px] right-0 top-0&#34;&gt;
    &lt;button
      class=&#34;code-copy-btn group/copybtn transition-all active:opacity-50 bg-primary-700/5 border border-black/5 text-gray-600 hover:text-gray-900 rounded-md p-1.5 dark:bg-primary-300/10 dark:border-white/10 dark:text-gray-400 dark:hover:text-gray-50&#34;
      title=&#34;Copy code&#34;
    &gt;
      &lt;div class=&#34;group-[.copied]/copybtn:hidden copy-icon pointer-events-none h-4 w-4&#34;&gt;&lt;/div&gt;
      &lt;div class=&#34;hidden group-[.copied]/copybtn:block success-icon pointer-events-none h-4 w-4&#34;&gt;&lt;/div&gt;
    &lt;/button&gt;
  &lt;/div&gt;
&lt;/div&gt;
&lt;p&gt;&lt;strong&gt;Note:&lt;/strong&gt; Please provide a sample table to specify the blank samples so that they can be excluded from the outlier detection.&lt;/p&gt;
&lt;h3&gt;Step 2. Run the outlier detection&lt;span class=&#34;absolute -mt-20&#34; id=&#34;step-2-run-the-outlier-detection&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#step-2-run-the-outlier-detection&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h3&gt;&lt;p&gt;&lt;strong&gt;In the data folder&lt;/strong&gt;, open a terminal and run the following command:&lt;/p&gt;
&lt;div class=&#34;code-block relative mt-6 first:mt-0 group/code&#34;&gt;&lt;div&gt;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;find-outliers&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class=&#34;opacity-0 transition group-hover/code:opacity-100 flex gap-1 absolute m-[11px] right-0 top-0&#34;&gt;
    &lt;button
      class=&#34;code-copy-btn group/copybtn transition-all active:opacity-50 bg-primary-700/5 border border-black/5 text-gray-600 hover:text-gray-900 rounded-md p-1.5 dark:bg-primary-300/10 dark:border-white/10 dark:text-gray-400 dark:hover:text-gray-50&#34;
      title=&#34;Copy code&#34;
    &gt;
      &lt;div class=&#34;group-[.copied]/copybtn:hidden copy-icon pointer-events-none h-4 w-4&#34;&gt;&lt;/div&gt;
      &lt;div class=&#34;hidden group-[.copied]/copybtn:block success-icon pointer-events-none h-4 w-4&#34;&gt;&lt;/div&gt;
    &lt;/button&gt;
  &lt;/div&gt;
&lt;/div&gt;
&lt;h3&gt;Output&lt;span class=&#34;absolute -mt-20&#34; id=&#34;output&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#output&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h3&gt;&lt;p&gt;After the processing, you will find the following files and folders in the data folder:&lt;/p&gt;
&lt;div class=&#34;code-block relative mt-6 first:mt-0 group/code&#34;&gt;&lt;pre&gt;&lt;code&gt;my_project
├── single_files
│   ├── sample1.txt
│   ├── sample2.txt
|   └── ...
|── sample_table.csv
└── problematic_files.txt&lt;/code&gt;&lt;/pre&gt;&lt;div class=&#34;opacity-0 transition group-hover/code:opacity-100 flex gap-1 absolute m-[11px] right-0 top-0&#34;&gt;
    &lt;button
      class=&#34;code-copy-btn group/copybtn transition-all active:opacity-50 bg-primary-700/5 border border-black/5 text-gray-600 hover:text-gray-900 rounded-md p-1.5 dark:bg-primary-300/10 dark:border-white/10 dark:text-gray-400 dark:hover:text-gray-50&#34;
      title=&#34;Copy code&#34;
    &gt;
      &lt;div class=&#34;group-[.copied]/copybtn:hidden copy-icon pointer-events-none h-4 w-4&#34;&gt;&lt;/div&gt;
      &lt;div class=&#34;hidden group-[.copied]/copybtn:block success-icon pointer-events-none h-4 w-4&#34;&gt;&lt;/div&gt;
    &lt;/button&gt;
  &lt;/div&gt;
&lt;/div&gt;
&lt;ol&gt;
&lt;li&gt;&lt;code&gt;problematic_samples.txt&lt;/code&gt;: a text file containing the names of the problematic samples.&lt;/li&gt;
&lt;li&gt;&lt;code&gt;single_files&lt;/code&gt;: a folder containing the feature detection results for each sample.&lt;/li&gt;
&lt;/ol&gt;
&lt;/div&gt;
&lt;h2&gt;Explanation of the workflow&lt;span class=&#34;absolute -mt-20&#34; id=&#34;explanation-of-the-workflow&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#explanation-of-the-workflow&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h2&gt;&lt;div class=&#34;code-block relative mt-6 first:mt-0 group/code&#34;&gt;&lt;div&gt;&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt; 1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 2
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 3
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 4
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 5
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 6
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 7
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 8
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 9
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;10
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;11
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;12
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-python&#34; data-lang=&#34;python&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;k&#34;&gt;def&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;run_evaluation&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;path&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;kc&#34;&gt;None&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;zscore_threshold&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=-&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;2&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;):&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;s2&#34;&gt;&amp;#34;&amp;#34;&amp;#34;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;s2&#34;&gt;    Evaluate the run and report the problematic files.
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;s2&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;s2&#34;&gt;    Parameters
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;s2&#34;&gt;    ----------
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;s2&#34;&gt;    path : str
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;s2&#34;&gt;        Path to the project directory.
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;s2&#34;&gt;    zscore_threshold : float
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;s2&#34;&gt;        The threshold of z-score for detecting problematic files. Default is -2.
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;s2&#34;&gt;    &amp;#34;&amp;#34;&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;o&#34;&gt;...&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;/div&gt;&lt;div class=&#34;opacity-0 transition group-hover/code:opacity-100 flex gap-1 absolute m-[11px] right-0 top-0&#34;&gt;
    &lt;button
      class=&#34;code-copy-btn group/copybtn transition-all active:opacity-50 bg-primary-700/5 border border-black/5 text-gray-600 hover:text-gray-900 rounded-md p-1.5 dark:bg-primary-300/10 dark:border-white/10 dark:text-gray-400 dark:hover:text-gray-50&#34;
      title=&#34;Copy code&#34;
    &gt;
      &lt;div class=&#34;group-[.copied]/copybtn:hidden copy-icon pointer-events-none h-4 w-4&#34;&gt;&lt;/div&gt;
      &lt;div class=&#34;hidden group-[.copied]/copybtn:block success-icon pointer-events-none h-4 w-4&#34;&gt;&lt;/div&gt;
    &lt;/button&gt;
  &lt;/div&gt;
&lt;/div&gt;
&lt;p&gt;The &lt;code&gt;run_evaluation&lt;/code&gt; function evaluates the run and reports the problematic files. It checks the quality of the raw data and identifies the problematic samples based on the number of detected features.&lt;/p&gt;
&lt;p&gt;The function generates a &lt;code&gt;problematic_samples.txt&lt;/code&gt; file that lists the names of the problematic samples. Users can further investigate the outliers and decide whether to remove them before downstream analysis.&lt;/p&gt;

      </description>
    </item>
    
    <item>
      <title>Targeted metabolomics workflow</title>
      <link>https://example.org/docs/workflows/targeted_metabolomics/</link>
      <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
      
      <guid>https://example.org/docs/workflows/targeted_metabolomics/</guid>
      <description>
        
        
        &lt;p&gt;Workflow is under development. Please check back later.&lt;/p&gt;

      </description>
    </item>
    
  </channel>
</rss>
